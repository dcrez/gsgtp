{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js??ref--17-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\member.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\member.vue","mtime":1583707693825},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmxhdC1tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnVuc2NvcGFibGVzLmZsYXQtbWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3JzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcVXNlcnNcXGRhbmllXFxHaXRIdWJcXGRjcmV6LmdpdGh1Yi5pb1xccHJvamVjdHNcXGdzZ3RwLW9mZmxpbmVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2Vjb25maWcuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ21lbWJlcicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbWJlclJlZjoge30sCiAgICAgIHZlaGljbGVzOiB7fSwKICAgICAgdG9kYXk6IG5ldyBEYXRlKCkKICAgIH07CiAgfSwKICBmaXJlc3RvcmU6IGZ1bmN0aW9uIGZpcmVzdG9yZSgpIHsKICAgIHZhciBtZW1iZXJVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VyLnVpZDsKICAgIHJldHVybiB7CiAgICAgIG1lbWJlclJlZjogZGIuY29sbGVjdGlvbignbWVtYmVycycpLmRvYyhtZW1iZXJVc2VySWQpLAogICAgICB2ZWhpY2xlczogZGIuY29sbGVjdGlvbigndmVoaWNsZXMnKS53aGVyZSgibWVtYmVyLnVzZXJJZCIsICI9PSIsIG1lbWJlclVzZXJJZCkKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydjdXJyZW50VXNlcicsICd1c2VyUHJvZmlsZSddKSwgewogICAgZmxhdE1lbWJlcjogZnVuY3Rpb24gZmxhdE1lbWJlcigpIHsKICAgICAgdmFyIG1SID0gdGhpcy5tZW1iZXJSZWY7CgogICAgICBfLmZsYXRNYXAobVIpOwoKICAgICAgcmV0dXJuIG1SOwogICAgfSwKICAgIGR1ZXNFbmREYXRlOiBmdW5jdGlvbiBkdWVzRW5kRGF0ZSgpIHsKICAgICAgdmFyIG1SID0gdGhpcy5tZW1iZXJSZWY7CiAgICAgIHZhciBjRCA9IHRoaXMubWVtYmVyUmVmLmN1cnJlbnREdWVzOyAvL2NvbnNvbGUubG9nKGNEKQogICAgICAvL2NvbnNvbGUubG9nKGNELmVmZmVjdGl2ZUVuZCkKCiAgICAgIGlmIChtUiAhPSBudWxsICYmIGNEICE9IG51bGwpIHsKICAgICAgICB2YXIgZWZmRW5kID0gY0QuZWZmZWN0aXZlRW5kOwogICAgICAgIHZhciBlZmZFbmRTZWMgPSBlZmZFbmQuc2Vjb25kczsKICAgICAgICB2YXIgdXRjRGF0ZSA9IG5ldyBEYXRlKGVmZkVuZCAqIDEwMDApOwogICAgICAgIHJldHVybiB1dGNEYXRlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnTm90IGN1cnJlbnQnOwogICAgICB9CiAgICB9CiAgfSksCiAgbWV0aG9kczogewogICAgdmVoaWNsZURldGFpbHM6IGZ1bmN0aW9uIHZlaGljbGVEZXRhaWxzKHYpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvdmVoaWNsZS8iLmNvbmNhdCh2LmlkKQogICAgICB9KTsKICAgIH0sCiAgICBtZW1iZXJEZXRhaWxzOiBmdW5jdGlvbiBtZW1iZXJEZXRhaWxzKG0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvbWVtYmVyLyIuY29uY2F0KG0udXNlcklkKQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["member.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAAA,QAAA,QAAA,MAAA;AACA,SAAA,EAAA,QAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,IAAA,IAAA;AAHA,KAAA;AAMA,GATA;AAUA,EAAA,SAVA,uBAUA;AACA,QAAA,YAAA,GAAA,KAAA,WAAA,CAAA,GAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,YAAA,CADA;AAEA,MAAA,QAAA,EAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,KAAA,CAAA,eAAA,EAAA,IAAA,EAAA,YAAA;AAFA,KAAA;AAIA,GAhBA;AAiBA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,aAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,UAAA,EAAA,GAAA,KAAA,SAAA;;AACA,MAAA,CAAA,CAAA,OAAA,CAAA,EAAA;;AACA,aAAA,EAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,UAAA,EAAA,GAAA,KAAA,SAAA;AACA,UAAA,EAAA,GAAA,KAAA,SAAA,CAAA,WAAA,CAFA,CAGA;AACA;;AACA,UAAA,EAAA,IAAA,IAAA,IAAA,EAAA,IAAA,IAAA,EAAA;AACA,YAAA,MAAA,GAAA,EAAA,CAAA,YAAA;AACA,YAAA,SAAA,GAAA,MAAA,CAAA,OAAA;AACA,YAAA,OAAA,GAAA,IAAA,IAAA,CAAA,MAAA,GAAA,IAAA,CAAA;AACA,eAAA,OAAA;AACA,OALA,MAKA;AAAA,eAAA,aAAA;AAAA;AACA;AAlBA,IAjBA;AAqCA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,CADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,qBAAA,CAAA,CAAA,EAAA;AADA,OAAA;AAEA,KAJA;AAKA,IAAA,aALA,yBAKA,CALA,EAKA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,oBAAA,CAAA,CAAA,MAAA;AADA,OAAA;AAEA;AARA;AArCA,CAAA","sourcesContent":["<template>\r\n    <div class=\"mt-5\">\r\n        \r\n        <div>\r\n\r\n        <v-card class=\"mx-auto mb-5\"  color=\"grey lighten-4\" elevation=\"0\">\r\n            <v-card-text class=\"text--primary\" >\r\n            <div class=\"display-1\">{{flatMember.fullName}}</div>\r\n             <div class=\"mb-3\"><a href=\"#\" @click=\"memberDetails(flatMember)\">Manage membership</a></div>\r\n            <div v-if=\"vehicles\">\r\n            <p class=\"overline\">Vehicle(s)</p>\r\n            <v-row style=\"margin-top:-20px; padding:10px;\">\r\n                <div v-for=\"v in vehicles\" :key=\"v.id\" class=\"mr-3 mt-3\">\r\n                    <v-btn text outlined @click=\"vehicleDetails(v)\">{{v.name}}</v-btn>\r\n                </div>    \r\n            </v-row>\r\n            </div>\r\n            </v-card-text>\r\n        </v-card>\r\n       \r\n        <v-alert class=\"mt-2\" type=\"error\" dense text v-if=\"duesEndDate < today\">Not currently earning points. Pay your dues to start earning!</v-alert>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapState} from 'vuex'\r\nimport {db} from '../../firebaseconfig.js'\r\n\r\nexport default {\r\n    name: 'member',\r\n    data() {\r\n        return {\r\n            memberRef: {},\r\n            vehicles: {},\r\n            today: new Date(),\r\n            \r\n        }\r\n    },\r\n    firestore() {\r\n        let memberUserId = this.currentUser.uid\r\n        return {\r\n            memberRef: db.collection('members').doc(memberUserId),\r\n            vehicles: db.collection('vehicles').where(\"member.userId\", \"==\", memberUserId)\r\n        }\r\n    },\r\n    computed: {\r\n    ...mapState(['currentUser', 'userProfile']),\r\n    flatMember() {\r\n        var mR = this.memberRef\r\n        _.flatMap(mR)\r\n        return mR\r\n    },\r\n    duesEndDate() {\r\n        let mR = this.memberRef\r\n        let cD = this.memberRef.currentDues\r\n        //console.log(cD)\r\n        //console.log(cD.effectiveEnd)\r\n        if (mR != null && cD != null) {\r\n            let effEnd = cD.effectiveEnd\r\n            let effEndSec = effEnd.seconds\r\n            let utcDate = new Date(effEnd * 1000)\r\n            return utcDate   \r\n        } else {return 'Not current'}\r\n    }\r\n  },\r\n  methods: {\r\n      vehicleDetails(v) {\r\n        this.$router.push({\r\n        path: `/vehicle/${v.id}`\r\n        }) },\r\n        memberDetails(m) {\r\n        this.$router.push({\r\n        path: `/member/${m.userId}`\r\n        }) },\r\n  }\r\n}\r\n</script>"],"sourceRoot":"src/components"}]}