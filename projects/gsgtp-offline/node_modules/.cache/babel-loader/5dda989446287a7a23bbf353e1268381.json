{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\store\\index.js","mtime":1580146272641},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKCnZhciBmYiA9IHJlcXVpcmUoJy4uLy4uL2ZpcmViYXNlY29uZmlnLmpzJyk7CgpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIGN1cnJlbnRVc2VyOiBudWxsLAogICAgdXNlclByb2ZpbGU6IHt9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldEN1cnJlbnRVc2VyOiBmdW5jdGlvbiBzZXRDdXJyZW50VXNlcihzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRVc2VyID0gdmFsOwogICAgfSwKICAgIHNldFVzZXJQcm9maWxlOiBmdW5jdGlvbiBzZXRVc2VyUHJvZmlsZShzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnVzZXJQcm9maWxlID0gdmFsOwogICAgfSwKICAgIHNldFVzZXJSb2xlOiBmdW5jdGlvbiBzZXRVc2VyUm9sZShzdGF0ZSwgdmFsKSB7CiAgICAgIHN0YXRlLnVzZXJSb2xlID0gdmFsOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgZmV0Y2hVc2VyUHJvZmlsZTogZnVuY3Rpb24gZmV0Y2hVc2VyUHJvZmlsZShfcmVmKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZi5zdGF0ZTsKICAgICAgZmIudXNlcnMuZG9jKHN0YXRlLmN1cnJlbnRVc2VyLnVpZCkuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29tbWl0KCdzZXRVc2VyUHJvZmlsZScsIHJlcy5kYXRhKCkpOwogICAgICAgIGNvbW1pdCgnc2V0VXNlclJvbGUnLCByZXMuZGF0YSgpLnJvbGUpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJEYXRhOiBmdW5jdGlvbiBjbGVhckRhdGEoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCdzZXRDdXJyZW50VXNlcicsIG51bGwpOwogICAgICBjb21taXQoJ3NldFVzZXJQcm9maWxlJywgbnVsbCk7CiAgICAgIGNvbW1pdCgnc2V0VXNlclJvbGUnLCBudWxsKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9Cn0pOw=="},{"version":3,"sources":["C:/Users/danie/GitHub/dcrez.github.io/projects/gsgtp-offline/src/store/index.js"],"names":["Vue","Vuex","fb","require","use","Store","state","currentUser","userProfile","mutations","setCurrentUser","val","setUserProfile","setUserRole","userRole","actions","fetchUserProfile","commit","users","doc","uid","get","then","res","data","role","catch","err","console","log","clearData","modules"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;;AACA,IAAMC,EAAE,GAAGC,OAAO,CAAC,yBAAD,CAAlB;;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,WAAW,EAAE,IADR;AAELC,IAAAA,WAAW,EAAE;AAFR,GADqB;AAK5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cADS,0BACMJ,KADN,EACaK,GADb,EACkB;AACvBL,MAAAA,KAAK,CAACC,WAAN,GAAoBI,GAApB;AACH,KAHQ;AAITC,IAAAA,cAJS,0BAIMN,KAJN,EAIaK,GAJb,EAIkB;AACvBL,MAAAA,KAAK,CAACE,WAAN,GAAoBG,GAApB;AACH,KANQ;AAOTE,IAAAA,WAPS,uBAOGP,KAPH,EAOUK,GAPV,EAOe;AACtBL,MAAAA,KAAK,CAACQ,QAAN,GAAiBH,GAAjB;AACH;AATU,GALiB;AAgB5BI,EAAAA,OAAO,EAAE;AACPC,IAAAA,gBADO,kCAC6B;AAAA,UAAjBC,MAAiB,QAAjBA,MAAiB;AAAA,UAATX,KAAS,QAATA,KAAS;AAChCJ,MAAAA,EAAE,CAACgB,KAAH,CAASC,GAAT,CAAab,KAAK,CAACC,WAAN,CAAkBa,GAA/B,EAAoCC,GAApC,GAA0CC,IAA1C,CAA+C,UAAAC,GAAG,EAAI;AAClDN,QAAAA,MAAM,CAAC,gBAAD,EAAmBM,GAAG,CAACC,IAAJ,EAAnB,CAAN;AACAP,QAAAA,MAAM,CAAC,aAAD,EAAgBM,GAAG,CAACC,IAAJ,GAAWC,IAA3B,CAAN;AACH,OAHD,EAGGC,KAHH,CAGS,UAAAC,GAAG,EAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,OALD;AAMH,KARM;AASPG,IAAAA,SATO,4BASe;AAAA,UAAVb,MAAU,SAAVA,MAAU;AACpBA,MAAAA,MAAM,CAAC,gBAAD,EAAmB,IAAnB,CAAN;AACAA,MAAAA,MAAM,CAAC,gBAAD,EAAmB,IAAnB,CAAN;AACAA,MAAAA,MAAM,CAAC,aAAD,EAAgB,IAAhB,CAAN;AACD;AAbM,GAhBmB;AA+B5Bc,EAAAA,OAAO,EAAE;AA/BmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nconst fb = require('../../firebaseconfig.js')\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    currentUser: null,\n    userProfile: {}\n},\n  mutations: {\n    setCurrentUser(state, val) {\n        state.currentUser = val\n    },\n    setUserProfile(state, val) {\n        state.userProfile = val\n    },\n    setUserRole(state, val) {\n      state.userRole = val\n  }\n},\n  actions: {\n    fetchUserProfile({ commit, state }) {\n        fb.users.doc(state.currentUser.uid).get().then(res => {\n            commit('setUserProfile', res.data())\n            commit('setUserRole', res.data().role)\n        }).catch(err => {\n            console.log(err)\n        })\n    },\n    clearData({ commit }) {\n      commit('setCurrentUser', null)\n      commit('setUserProfile', null)\n      commit('setUserRole', null)\n    }\n},\n  modules: {\n  }\n})\n"]}]}