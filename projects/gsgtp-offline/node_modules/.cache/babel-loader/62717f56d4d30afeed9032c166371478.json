{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\members.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\members.vue","mtime":1622418505526},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZGFuaWUvR2l0SHViL2RjcmV6LmdpdGh1Yi5pby9wcm9qZWN0cy9nc2d0cC1vZmZsaW5lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGIsIGN1cnJlbnRVc2VyIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2Vjb25maWcuanMnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ21lbWJlcnMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZW1iZXJzOiB7fSwKICAgICAgc2VhcmNoOiAnJywKICAgICAgZXhwYW5kZWQ6IFtdLAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICdNZW1iZXIgTmFtZScsCiAgICAgICAgYWxpZ246ICdsZWZ0JywKICAgICAgICBzb3J0YWJsZTogdHJ1ZSwKICAgICAgICB2YWx1ZTogJ2Z1bGxOYW1lJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1R5cGUnLAogICAgICAgIGFsaWduOiAnbGVmdCcsCiAgICAgICAgc29ydGFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6ICdtZW1iZXJUeXBlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0R1ZXMgU3RhcnQnLAogICAgICAgIHZhbHVlOiAnY3VycmVudER1ZXMuZWZmZWN0aXZlU3RhcnQnLAogICAgICAgIHNvcnRhYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnUGFpZCcsCiAgICAgICAgdmFsdWU6ICdjdXJyZW50RHVlcy5kdWVzUGFpZCcsCiAgICAgICAgc29ydGFibGU6IHRydWUKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdFZGl0JywKICAgICAgICB2YWx1ZTogJ2VkaXQnLAogICAgICAgIHNvcnRhYmxlOiAnZmFsc2UnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnRGVsZXRlJywKICAgICAgICB2YWx1ZTogJ2RlbGV0ZScsCiAgICAgICAgc29ydGFibGU6ICdmYWxzZScKICAgICAgfV0KICAgIH07CiAgfSwKICBmaXJlc3RvcmU6IGZ1bmN0aW9uIGZpcmVzdG9yZSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbWJlcnM6IGRiLmNvbGxlY3Rpb24oJ21lbWJlcnMnKS5vcmRlckJ5KCJjcmVhdGVkIiwgImRlc2MiKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIGRlbGV0ZU1lbWJlcjogZnVuY3Rpb24gZGVsZXRlTWVtYmVyKG0pIHsKICAgICAgY29uc29sZS5sb2cobS5pZCArICIgd2lsbCBiZSBkZWxldGVkISIpOwogICAgICBkYi5jb2xsZWN0aW9uKCdtZW1iZXJzJykuZG9jKG0uaWQpLmRlbGV0ZSgpOwogICAgfSwKICAgIHB1bGxEZXRhaWxzOiBmdW5jdGlvbiBwdWxsRGV0YWlscyhwdWxsKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3B1bGwvIi5jb25jYXQocHVsbC5jaXR5LCAiLyIpLmNvbmNhdChwdWxsLmlkKQogICAgICB9KTsKICAgIH0sCiAgICBjdXJyZW50RGF0ZTogZnVuY3Rpb24gY3VycmVudERhdGUocHVsbCkgewogICAgICB2YXIgY3VycmVudCA9IG5ldyBEYXRlKCk7CiAgICAgIHJldHVybiB0aGlzLiRtb21lbnQocHVsbC5kYXRlKS5pc0JlZm9yZShjdXJyZW50KTsKICAgIH0sCiAgICBkdWVzU3RhdHVzOiBmdW5jdGlvbiBkdWVzU3RhdHVzKG1lbWJlciwgdmFsdWUpIHsKICAgICAgZGIuY29sbGVjdGlvbignbWVtYmVycycpLmRvYyhtZW1iZXIuaWQpLnVwZGF0ZSh7CiAgICAgICAgZHVlc1BhaWQ6IHZhbHVlLAogICAgICAgIHVwZGF0ZWRCeTogdGhpcy5jdXJyZW50VXNlci51aWQsCiAgICAgICAgdXBkYXRlZDogbmV3IERhdGUoKQogICAgICB9KTsKICAgIH0sCiAgICBtZW1iZXJEZXRhaWxzOiBmdW5jdGlvbiBtZW1iZXJEZXRhaWxzKG0pIHsKICAgICAgdmFyIG1pZCA9IG0uaWQ7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL21lbWJlci8iLmNvbmNhdChtaWQpCiAgICAgIH0pOwogICAgfSwKICAgIGR1ZXNDdXJyZW50OiBmdW5jdGlvbiBkdWVzQ3VycmVudChtKSB7CiAgICAgIHZhciBkdWVzRGF0ZTsKICAgICAgdmFyIGR1ZXNZZWFyOwogICAgICB2YXIgY3VycmVudFllYXI7CgogICAgICBpZiAobS5jdXJyZW50RHVlcykgewogICAgICAgIGR1ZXNEYXRlID0gbmV3IERhdGUobS5jdXJyZW50RHVlcy5lZmZlY3RpdmVTdGFydCk7CiAgICAgICAgZHVlc1llYXIgPSBkdWVzRGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICB9CgogICAgICBpZiAoZHVlc1llYXIgPiAwKSB7CiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpOwogICAgICAgIGN1cnJlbnRZZWFyID0gZC5nZXRGdWxsWWVhcigpOwogICAgICB9CgogICAgICBpZiAoZHVlc1llYXIgPT0gY3VycmVudFllYXIpIHsKICAgICAgICByZXR1cm4gZHVlc1llYXI7CiAgICAgIH0gZWxzZSByZXR1cm4gJ2ZhbHNlJzsKICAgIH0KICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFtjdXJyZW50VXNlcl0pKSwge30sIHsKICAgIHRoaXNZZWFyOiBmdW5jdGlvbiB0aGlzWWVhcigpIHsKICAgICAgdmFyIGEgPSBuZXcgRGF0ZSgpOwogICAgICBhID0gYS5nZXRGdWxsWWVhcigpOwogICAgICByZXR1cm4gYTsKICAgIH0KICB9KSwKICB3YXRjaDogewogICAgZHVlc1BhaWQ6IGZ1bmN0aW9uIGR1ZXNQYWlkKG5ld1ZhbHVlKSB7fQogIH0KfTs="},{"version":3,"sources":["members.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n  <v-card>\r\n  <v-card-title>Members<v-spacer></v-spacer><v-btn to=\"/member/add\" outlined>Add member</v-btn></v-card-title>\r\n  <v-expansion-panels>\r\n   <v-expansion-panel v-for=\"m in members\" :key=\"m[id]\">\r\n  \r\n    <v-expansion-panel-header>\r\n      <v-row>\r\n  <div style=\"font-size:1.15em;\" class=\"col-11\">{{m.firstName}} {{m.lastName}}</div>\r\n  \r\n  <div class=\"col-1 ml-auto\">\r\n    <div v-if=\"duesCurrent(m) != thisYear\">\r\n      <font-awesome-icon icon=\"lock\" color=\"red\"></font-awesome-icon>\r\n    </div>\r\n    <div v-else>\r\n    <font-awesome-icon icon=\"lock-open\" color=\"green\"></font-awesome-icon>  \r\n   \r\n    </div>\r\n  </div>\r\n      </v-row>\r\n    </v-expansion-panel-header>\r\n   <v-expansion-panel-content>\r\n     <v-row>\r\n     <div class=\"col-10\">\r\n     <v-alert v-if=\"duesCurrent(m) == thisYear\" type=\"success\">Dues Paid: ${{m.currentDues.duesPaid}} on {{m.currentDues.effectiveStart}}</v-alert>\r\n     <v-alert v-else type=\"error\">Dues not current. Member's hooks will not count to points' totals until resolved.</v-alert>\r\n     <strong>Address:</strong> {{m.address}}, {{m.city}} {{m.state}} {{m.zip}}<br>\r\n     <strong>Phone: </strong> {{m.phone}} \r\n     <strong>Email:</strong> {{m.emailAddress}}\r\n     <div class=\"mt-3\">\r\n        <v-btn\r\n          text\r\n          outlined\r\n          color=\"green\"\r\n          @click=\"memberDetails(m)\"\r\n        >\r\n        <font-awesome-icon icon=\"highlighter\"></font-awesome-icon> Edit\r\n        </v-btn>\r\n        <v-btn\r\n       text\r\n       outlined\r\n       color=\"red\"\r\n       @click=\"deleteMember(m)\"\r\n       >\r\n       <font-awesome-icon icon=\"trash-alt\"></font-awesome-icon>\r\n        Delete</v-btn>\r\n     </div>\r\n     </div>\r\n     </v-row>\r\n   </v-expansion-panel-content>\r\n   </v-expansion-panel>\r\n  </v-expansion-panels>\r\n  </v-card>\r\n  \r\n\r\n    \r\n   \r\n  \r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport {db, currentUser} from '../../firebaseconfig.js'\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n  name: 'members',\r\n  data() {\r\n    return {\r\n      members: {},\r\n      search: '',\r\n      expanded: [],\r\n      headers: [\r\n        {\r\n          text: 'Member Name',\r\n          align: 'left',\r\n          sortable: true,\r\n          value: 'fullName'\r\n        },\r\n        {\r\n          text: 'Type',\r\n          align: 'left',\r\n          sortable: true,\r\n          value: 'memberType'\r\n        },\r\n        {\r\n          text: 'Dues Start',\r\n          value: 'currentDues.effectiveStart',\r\n          sortable: true\r\n        },\r\n        {\r\n          text: 'Paid',\r\n          value: 'currentDues.duesPaid',\r\n          sortable: true\r\n        },\r\n        \r\n        {\r\n          text: 'Edit',\r\n          value: 'edit',\r\n          sortable: 'false'\r\n        },\r\n        {\r\n          text: 'Delete',\r\n          value: 'delete',\r\n          sortable: 'false'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  firestore() {\r\n    return {\r\n      members: db.collection('members').orderBy(\"created\", \"desc\")\r\n    }\r\n  },\r\n    methods: {\r\n       goBack() {\r\n        this.$router.go(-1)\r\n      },\r\n      deleteMember(m) {\r\n          console.log(m.id + \" will be deleted!\")\r\n           db.collection('members').doc(m.id).delete();\r\n       },\r\n       pullDetails (pull) {\r\n         this.$router.push({path: `/pull/${pull.city}/${pull.id}`}) \r\n       },\r\n      currentDate(pull) {\r\n        let current = new Date()\r\n        return this.$moment(pull.date).isBefore(current)\r\n      },\r\n      duesStatus(member, value) {\r\n          db.collection('members').doc(member.id).update(\r\n                {\r\n                    duesPaid:value,\r\n                    updatedBy: this.currentUser.uid,\r\n                    updated: new Date()\r\n                }\r\n            )\r\n      },\r\n      memberDetails(m) {\r\n        let mid = m.id\r\n        this.$router.push({\r\n        path: `/member/${mid}`\r\n        }) },\r\n                duesCurrent(m) {\r\n          let duesDate\r\n          let duesYear\r\n          let currentYear\r\n          if (m.currentDues) {\r\n            duesDate = new Date(m.currentDues.effectiveStart)\r\n            duesYear = duesDate.getFullYear()\r\n          }\r\n          \r\n          if (duesYear>0) {\r\n            let d = new Date();\r\n            currentYear = d.getFullYear()\r\n          }\r\n\r\n          if (duesYear == currentYear) {\r\n            return duesYear\r\n          }\r\n          else return 'false'\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState([currentUser]),\r\n        thisYear(){\r\n          let a = new Date()\r\n          a = a.getFullYear()\r\n          return a\r\n        }\r\n    },\r\n    watch: {\r\n        duesPaid(newValue) {\r\n            \r\n        }\r\n    }\r\n  }\r\n\r\n</script>"],"sourceRoot":"src/views"}]}