{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\addVehicle.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\addVehicle.vue","mtime":1621094157346},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZGFuaWUvR2l0SHViL2RjcmV6LmdpdGh1Yi5pby9wcm9qZWN0cy9nc2d0cC1vZmZsaW5lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2Vjb25maWcuanMnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FkbWluJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVyZm9ybWluZ1JlcXVlc3Q6IGZhbHNlLAogICAgICBtZW1iZXJzOiB7fSwKICAgICAgdmVoaWNsZToge30sCiAgICAgIHZlaGljbGVzOiB7fSwKICAgICAgdmVoaWNsZUNsYXNzZXM6IHt9LAogICAgICB2ZWhpY2xlRm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG1lbWJlckxvb2t1cDogJycsCiAgICAgICAgLy90ZWNoUGFzc2VkOiAnJywKICAgICAgICB2ZWhpY2xlQ2xhc3NlczogW10sCiAgICAgICAgaW1nOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgZmlyZXN0b3JlOiBmdW5jdGlvbiBmaXJlc3RvcmUoKSB7CiAgICByZXR1cm4gewogICAgICAvL3B1bGw6IGRiLmNvbGxlY3Rpb24oJ3B1bGxzJykuZG9jKGN1cnJlbnRQdWxsKSwKICAgICAgbWVtYmVyczogZGIuY29sbGVjdGlvbignbWVtYmVycycpLAogICAgICB2ZWhpY2xlczogZGIuY29sbGVjdGlvbigndmVoaWNsZXMnKSwKICAgICAgdmVoaWNsZUNsYXNzZXM6IGRiLmNvbGxlY3Rpb24oJ3ZlaGljbGVDbGFzc2VzJykub3JkZXJCeSgibmFtZSIpLndoZXJlKCJhY3RpdmUiLCAiPT0iLCB0cnVlKQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ2N1cnJlbnRVc2VyJ10pKSwKICBtZXRob2RzOiB7CiAgICBhZGRWZWhpY2xlOiBmdW5jdGlvbiBhZGRWZWhpY2xlKCkgewogICAgICAvLyBzdGFydCB0cmFuc2l0aW9uL2xvYWRpbmcgdmlldwogICAgICB2YXIgcGYgPSB0aGlzLnBlcmZvcm1pbmdSZXF1ZXN0OwogICAgICBwZiA9IHRydWU7CiAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFkZFZlaGljbGVGb3JtIik7CiAgICAgIHZhciBkb2MgPSB0aGlzLnZlaGljbGVGb3JtLm5hbWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLmpvaW4oIi0iKTsKICAgICAgdmFyIHZmID0gdGhpcy52ZWhpY2xlRm9ybTsgLy8gYWRkIHB1bGwgdG8gRmlyZXN0b3JlCgogICAgICBkYi5jb2xsZWN0aW9uKCJ2ZWhpY2xlcyIpLmRvYyhkb2MpLnNldCh7CiAgICAgICAgbmFtZTogdGhpcy52ZWhpY2xlRm9ybS5uYW1lLAogICAgICAgIG1lbWJlcjogdGhpcy52ZWhpY2xlRm9ybS5tZW1iZXJMb29rdXAsCiAgICAgICAgY2xhc3NlczogdGhpcy52ZWhpY2xlRm9ybS52ZWhpY2xlQ2xhc3NlcywKICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLAogICAgICAgIGNyZWF0ZWRCeTogdGhpcy5jdXJyZW50VXNlci51aWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZG9jUmVmKSB7CiAgICAgICAgY29uc29sZS5sb2coIlZlaGljbGUgd3JpdHRlbiB3aXRoIElEOiAiLCBkb2NSZWYpOwogICAgICAgIHBmID0gZmFsc2U7CiAgICAgICAgdmYubmFtZSA9ICcnOwogICAgICAgIHZmLm1lbWJlckxvb2t1cCA9ICcnLCB2Zi52ZWhpY2xlQ2xhc3NlcyA9ICcnLCB2Zi5pbWcgPSAnJzsKICAgICAgfSk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMudmVoaWNsZUZvcm0ubmFtZSA9ICcnLCB0aGlzLnZlaGljbGVGb3JtLm1lbWJlckxvb2t1cCA9IG51bGwsIHRoaXMudmVoaWNsZUZvcm0udmVoaWNsZUNsYXNzZXMgPSBbXTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["addVehicle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SAAA,EAAA,QAAA,yBAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,cAAA,EAAA,EALA;AAMA,MAAA,WAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,YAAA,EAAA,EAFA;AAGA;AACA,QAAA,cAAA,EAAA,EAJA;AAKA,QAAA,GAAA,EAAA;AALA;AANA,KAAA;AAcA,GAjBA;AAkBA,EAAA,SAlBA,uBAkBA;AACA,WAAA;AACA;AACA,MAAA,OAAA,EAAA,EAAA,CAAA,UAAA,CAAA,SAAA,CAFA;AAGA,MAAA,QAAA,EAAA,EAAA,CAAA,UAAA,CAAA,UAAA,CAHA;AAIA,MAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,gBAAA,EAAA,OAAA,CAAA,MAAA,EAAA,KAAA,CAAA,QAAA,EAAA,IAAA,EAAA,IAAA;AAJA,KAAA;AAMA,GAzBA;AA0BA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,aAAA,CAAA,CADA,CA1BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA;AACA,UAAA,EAAA,GAAA,KAAA,iBAAA;AACA,MAAA,EAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,cAAA,CAAA,gBAAA,CAAA;AACA,UAAA,GAAA,GAAA,KAAA,WAAA,CAAA,IAAA,CAAA,WAAA,GAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,KAAA,WAAA,CANA,CAQA;;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,GAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,WAAA,CAAA,IADA;AAEA,QAAA,MAAA,EAAA,KAAA,WAAA,CAAA,YAFA;AAGA,QAAA,OAAA,EAAA,KAAA,WAAA,CAAA,cAHA;AAIA,QAAA,OAAA,EAAA,IAAA,IAAA,EAJA;AAKA,QAAA,SAAA,EAAA,KAAA,WAAA,CAAA;AALA,OAAA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2BAAA,EAAA,MAAA;AACA,QAAA,EAAA,GAAA,KAAA;AACA,QAAA,EAAA,CAAA,IAAA,GAAA,EAAA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,EAAA,EACA,EAAA,CAAA,cAAA,GAAA,EADA,EAEA,EAAA,CAAA,GAAA,GAAA,EAFA;AAMA,OAhBA;AAiBA,KA3BA;AA4BA,IAAA,SA5BA,uBA4BA;AACA,WAAA,WAAA,CAAA,IAAA,GAAA,EAAA,EAAA,KAAA,WAAA,CAAA,YAAA,GAAA,IAAA,EAAA,KAAA,WAAA,CAAA,cAAA,GAAA,EAAA;AACA;AA9BA;AA7BA,CAAA","sourcesContent":["<template>\r\n<div>\r\n  <v-card>\r\n         <v-container>\r\n           <v-card-title>Add vehicle</v-card-title>\r\n           <v-card-text>\r\n           <v-form id=\"addVehicleForm\">\r\n            \r\n               <v-text-field label=\"Vehicle Name\" v-model=\"vehicleForm.name\" color=\"secondary\" hint=\"A unique name for the tractor that is different from all other members.\"></v-text-field>\r\n               <v-autocomplete \r\n                v-model=\"vehicleForm.memberLookup\" \r\n                label=\"Lookup Member\"\r\n                :items=\"members\" \r\n                hint=\"Select a member who is primarily responsible for this vehicle.\"\r\n                item-text=\"fullName\"\r\n                item-value=\"id\"\r\n                persistent-hint\r\n                color=\"secondary\"\r\n                clearable\r\n                return-object\r\n                chips\r\n                >\r\n                </v-autocomplete>\r\n                <v-autocomplete v-model=\"vehicleForm.vehicleClasses\" :items=\"vehicleClasses\" multiple chips return-object item-text=\"name\" item-value=\"name\" color=\"secondary\" label=\"Choose a vehicle class (or classes).\" clearable>\r\n                </v-autocomplete>\r\n                <transition name=\"fade\">\r\n    <div v-if=\"performingRequest\" class=\"loading\">\r\n        <v-progress-linear indeterminate color=\"info\"></v-progress-linear>\r\n    </div>\r\n</transition>\r\n                <!--<v-file-input label=\"Vehicle Image\" hint=\"(Optional) Upload a picture of the tractor.\"></v-file-input>-->\r\n               <v-card-actions><v-spacer></v-spacer><v-btn @click=\"resetForm\" text>Clear Form</v-btn><v-btn @click=\"addVehicle\" outlined color=\"green\">Add vehicle</v-btn></v-card-actions>\r\n             \r\n           </v-form>\r\n           </v-card-text>\r\n         </v-container>\r\n  </v-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {db} from '../../firebaseconfig.js'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'admin',\r\n  data() {\r\n    return {\r\n      performingRequest: false,\r\n      members: {},\r\n      vehicle: {},\r\n      vehicles: {},\r\n      vehicleClasses: {},\r\n      vehicleForm: {\r\n        name: '',\r\n        memberLookup: '',\r\n        //techPassed: '',\r\n        vehicleClasses: [],\r\n        img: ''\r\n    }\r\n    }\r\n  },\r\n  firestore() {\r\n    return {\r\n      //pull: db.collection('pulls').doc(currentPull),\r\n      members: db.collection('members'),\r\n      vehicles: db.collection('vehicles'),\r\n      vehicleClasses: db.collection('vehicleClasses').orderBy(\"name\").where(\"active\",\"==\",true)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n    methods: {\r\n      addVehicle: function() {\r\n            // start transition/loading view\r\n            let pf = this.performingRequest\r\n            pf = true\r\n            let form = document.getElementById(\"addVehicleForm\")\r\n            let doc = this.vehicleForm.name.toLowerCase().split(\" \").join(\"-\")\r\n            let vf = this.vehicleForm\r\n\r\n            // add pull to Firestore\r\n            db.collection(\"vehicles\").doc(doc).set({\r\n                name: this.vehicleForm.name,\r\n                member: this.vehicleForm.memberLookup,\r\n                classes: this.vehicleForm.vehicleClasses,\r\n                created: new Date(),\r\n                createdBy: this.currentUser.uid\r\n            }).then(function(docRef) {\r\n                console.log(\"Vehicle written with ID: \", docRef)\r\n                pf = false\r\n                vf.name = ''\r\n                vf.memberLookup = '',\r\n                vf.vehicleClasses = '',\r\n                vf.img = ''\r\n      \r\n                \r\n                \r\n            });\r\n      },\r\n      resetForm() { \r\n          this.vehicleForm.name =  '', this.vehicleForm.memberLookup = null, this.vehicleForm.vehicleClasses = []\r\n    }\r\n  }\r\n}\r\n\r\n</script>"],"sourceRoot":"src/components"}]}