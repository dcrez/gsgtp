{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js??ref--17-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\standings.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\standings.vue","mtime":1583713127651},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGIsIGN1cnJlbnRVc2VyIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2Vjb25maWcuanMnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3N0YW5kaW5ncycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhvb2tzOiB7fSwKICAgICAgc2VsZWN0ZWRZZWFyOiAnMjAyMCcKICAgIH07CiAgfSwKICBmaXJlc3RvcmU6IGZ1bmN0aW9uIGZpcmVzdG9yZSgpIHsKICAgIHZhciB5ZWFyUmVmID0gdGhpcy5zZWxlY3RlZFllYXI7CiAgICByZXR1cm4gewogICAgICBob29rczogZGIuY29sbGVjdGlvbignaG9va3MnKS53aGVyZSgicG9pbnRzWWVhciIsICI9PSIsIHllYXJSZWYpLm9yZGVyQnkoJ3ZlaGljbGVDbGFzcycsICdhc2MnKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIHByZXZpb3VzWWVhcjogZnVuY3Rpb24gcHJldmlvdXNZZWFyKHllYXIpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvc3RhbmRpbmdzLyIuY29uY2F0KHllYXIpCiAgICAgIH0pOwogICAgfSwKICAgIHZlaGljbGVEZXRhaWxzOiBmdW5jdGlvbiB2ZWhpY2xlRGV0YWlscyh2KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3ZlaGljbGUvIi5jb25jYXQodi5pZCkKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgdmVoaWNsZXNCeUNsYXNzOiBmdW5jdGlvbiB2ZWhpY2xlc0J5Q2xhc3MoKSB7CiAgICAgIHZhciByZXN1bHQgPSBfLmNoYWluKHRoaXMuaG9va3MpLmZpbHRlcihbJ2lzTWVtYmVyJywgdHJ1ZV0pLmZpbHRlcihbJ2RxJywgZmFsc2VdKS5ncm91cEJ5KCJ2ZWhpY2xlQ2xhc3MiKS5tYXAoZnVuY3Rpb24gKHYsIGlkKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6IGlkLAogICAgICAgICAgdmVoaWNsZXM6IF8uZ3JvdXBCeSh2LCAidmVoaWNsZU5hbWUiKQogICAgICAgIH07CiAgICAgIH0pLnZhbHVlKCk7CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgICAvKmxldCB2Y1JlZiA9IF8uZ3JvdXBCeSh0aGlzLmhvb2tzLCAidmVoaWNsZUNsYXNzIikKICAgICAgY29uc29sZS5sb2codmNSZWYpCiAgICAgICBsZXQgbVJlZiA9IF8ubWFwKHZjUmVmLCAoZnVuY3Rpb24odiwgaSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBpOiBfLmdyb3VwQnkodiwgInZlaGljbGVOYW1lIikKICAgICAgICAgIH0KICAgICAgCiAgICAgIH0pKQogICAgICAgcmV0dXJuIG1SZWYKICAgICAgKi8KICAgIH0sCiAgICBwb2ludHNTdGF0czogZnVuY3Rpb24gcG9pbnRzU3RhdHMoKSB7CiAgICAgIHZhciByZXN1bHQgPSBfLmNoYWluKHRoaXMuaG9va3MpLmZpbHRlcihbJ2lzTWVtYmVyJywgdHJ1ZV0pLmZpbHRlcihbJ2R1ZXNQYWlkJywgdHJ1ZV0pLmZpbHRlcihbJ2RxJywgZmFsc2VdKS5ncm91cEJ5KCJ2ZWhpY2xlQ2xhc3MiKS5tYXAoZnVuY3Rpb24gKHYsIGlkKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6IGlkLAogICAgICAgICAgdmVoaWNsZTogXy5jaGFpbihfLmdyb3VwQnkodiwgJ3ZlaGljbGUnKSkubWFwKGZ1bmN0aW9uIChoLCBrKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgbmFtZTogaywKICAgICAgICAgICAgICBwb2ludHM6IF8uc3VtQnkoaCwgJ3BvaW50cycpCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KS5vcmRlckJ5KCdwb2ludHMnLCAnZGVzYycpLnZhbHVlKCkKICAgICAgICB9OwogICAgICB9KS52YWx1ZSgpOwoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgLypsZXQgdmNSZWYgPSBfLmdyb3VwQnkodGhpcy5ob29rcywgInZlaGljbGVDbGFzcyIpCiAgICAgIGNvbnNvbGUubG9nKHZjUmVmKQogICAgICAgbGV0IG1SZWYgPSBfLm1hcCh2Y1JlZiwgKGZ1bmN0aW9uKHYsIGkpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgaTogXy5ncm91cEJ5KHYsICJ2ZWhpY2xlTmFtZSIpCiAgICAgICAgICB9CiAgICAgIAogICAgICB9KSkKICAgICAgIHJldHVybiBtUmVmCiAgICAgICovCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["standings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,SACA,EADA,EACA,WADA,QAEA,yBAFA;AAGA,SACA,QADA,QAEA,MAFA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,YAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,SARA,uBAQA;AACA,QAAA,OAAA,GAAA,KAAA,YAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EAAA,CAAA,UAAA,CAAA,OAAA,EAAA,KAAA,CAAA,YAAA,EAAA,IAAA,EAAA,OAAA,EAAA,OAAA,CAAA,cAAA,EAAA,KAAA;AADA,KAAA;AAGA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAHA;AAIA,IAAA,YAJA,wBAIA,IAJA,EAIA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,uBAAA,IAAA;AADA,OAAA;AAGA,KARA;AASA,IAAA,cATA,0BASA,CATA,EASA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,qBAAA,CAAA,CAAA,EAAA;AADA,OAAA;AAEA;AAZA,GAdA;AA6BA,EAAA,QAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,MAAA,GAAA,CAAA,CAAA,KAAA,CAAA,KAAA,KAAA,EACA,MADA,CACA,CAAA,UAAA,EAAA,IAAA,CADA,EAEA,MAFA,CAEA,CAAA,IAAA,EAAA,KAAA,CAFA,EAGA,OAHA,CAGA,cAHA,EAIA,GAJA,CAIA,UAAA,CAAA,EAAA,EAAA,EAAA;AACA,eAAA;AACA,UAAA,IAAA,EAAA,EADA;AAEA,UAAA,QAAA,EAAA,CAAA,CAAA,OAAA,CAAA,CAAA,EAAA,aAAA;AAFA,SAAA;AAKA,OAVA,EAYA,KAZA,EAAA;;AAcA,aAAA,MAAA;AAEA;;;;;;;;;;AAWA,KA7BA;AA+BA,IAAA,WA/BA,yBA+BA;AACA,UAAA,MAAA,GAAA,CAAA,CAAA,KAAA,CAAA,KAAA,KAAA,EACA,MADA,CACA,CAAA,UAAA,EAAA,IAAA,CADA,EAEA,MAFA,CAEA,CAAA,UAAA,EAAA,IAAA,CAFA,EAGA,MAHA,CAGA,CAAA,IAAA,EAAA,KAAA,CAHA,EAIA,OAJA,CAIA,cAJA,EAKA,GALA,CAKA,UAAA,CAAA,EAAA,EAAA,EAAA;AACA,eAAA;AACA,UAAA,IAAA,EAAA,EADA;AAEA,UAAA,OAAA,EAAA,CAAA,CAAA,KAAA,CAAA,CAAA,CAAA,OAAA,CAAA,CAAA,EAAA,SAAA,CAAA,EACA,GADA,CACA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,mBAAA;AACA,cAAA,IAAA,EAAA,CADA;AAEA,cAAA,MAAA,EAAA,CAAA,CAAA,KAAA,CAAA,CAAA,EAAA,QAAA;AAFA,aAAA;AAIA,WANA,EAMA,OANA,CAMA,QANA,EAMA,MANA,EAOA,KAPA;AAFA,SAAA;AAWA,OAjBA,EAmBA,KAnBA,EAAA;;AAqBA,aAAA,MAAA;AAEA;;;;;;;;;;AAWA;AAlEA;AA7BA,CAAA","sourcesContent":["<template>\r\n    <div id=\"standings\">\r\n        <div class=\"display-1 mt-5 mb-5 font-weight-light\">Points ({{selectedYear}})\r\n            <v-btn class=\"mb-3 float-right\" text color=\"red darken-3\" @click=\"goBack\">\r\n      <v-icon class=\"mr-4\">fad fa-arrow-circle-left</v-icon> Go back\r\n    </v-btn>\r\n        </div>\r\n        <!--\r\n        <v-card color=\"red darken-4\" dark>\r\n            <v-container>\r\n                <v-card-title> Standings<v-spacer></v-spacer>\r\n                    <v-text-field v-model=\"selectedYear\" label=\"Year\" persistent-hint disabled\r\n                        hint=\"Year must always be in YYYY format. Data only goes back to 2019.\"></v-text-field>\r\n                </v-card-title>\r\n            </v-container>\r\n        </v-card>-->\r\n       <!-- <v-slide-group>\r\n            <v-slide-item>\r\n                <v-btn class=\"mx-2\" text disabled >View Previous Years</v-btn>\r\n            </v-slide-item>\r\n            <v-slide-item>\r\n                <v-btn class=\"mx-2\" depressed rounded @click=\"previousYear('2019')\">2019</v-btn>\r\n            </v-slide-item>\r\n        </v-slide-group>-->\r\n        <div v-if=\"pointsStats < 1\" class=\"mt-4\">\r\n      <v-banner two-line color=\"green\">\r\n        <v-avatar slot=\"icon\" size=\"60px\">\r\n          <v-icon dark>far fa-person-sign</v-icon>\r\n        </v-avatar>\r\n        No points yet. Check back after our first pull to get in on the action.\r\n      </v-banner>\r\n      \r\n    </div>\r\n    <div v-else>\r\n\r\n        <div v-for=\"v in pointsStats\" :key=\"v['.index']\">\r\n            <v-card class=\"mt-5\" light >\r\n                <v-container>\r\n                    <v-card-title>{{v.name}}</v-card-title>\r\n                    <v-card-text>\r\n                        <v-list dense>\r\n                            <v-list-item-group>\r\n                                <v-list-item v-for=\"(h,index) in v.vehicle\" :key=\"h['.key']\" @click=\"vehicleDetails()\">\r\n                                  <v-list-item-content>  {{h.name}}</v-list-item-content>\r\n                                  <v-list-item-icon>\r\n                                      <v-icon v-if=\"index == 0\">fad fa-star</v-icon>\r\n                                      {{h.points}}\r\n                                  </v-list-item-icon>\r\n                                </v-list-item>\r\n                            </v-list-item-group>\r\n                        </v-list>\r\n                    \r\n                    </v-card-text>\r\n                </v-container>\r\n                   \r\n                \r\n            </v-card>\r\n            \r\n            \r\n            \r\n        </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        db, currentUser\r\n    } from '../../firebaseconfig.js'\r\n    import {\r\n        mapState\r\n    } from 'vuex'\r\n\r\n    export default {\r\n        name: 'standings',\r\n        data() {\r\n            return {\r\n                hooks: {},\r\n                selectedYear: '2020'\r\n            }\r\n        },\r\n        firestore() {\r\n            let yearRef = this.selectedYear\r\n            return {\r\n                hooks: db.collection('hooks').where(\"pointsYear\", \"==\", yearRef).orderBy('vehicleClass', 'asc')\r\n            }\r\n        },\r\n        methods: {\r\n            goBack() {\r\n        this.$router.go(-1)\r\n      },\r\n      previousYear(year) {\r\n        this.$router.push({\r\n          path: `/standings/${year}`\r\n        })\r\n      },\r\n      vehicleDetails(v) {\r\n        this.$router.push({\r\n        path: `/vehicle/${v.id}`\r\n        }) }\r\n\r\n        },\r\n        computed: {\r\n            vehiclesByClass() {\r\n                var result = _.chain(this.hooks)\r\n                    .filter(['isMember', true])\r\n                    .filter(['dq',false])\r\n                    .groupBy(\"vehicleClass\")\r\n                    .map(function(v,id) {\r\n                        return {\r\n                            name: id,\r\n                            vehicles: (_.groupBy(v,\"vehicleName\"))\r\n                                \r\n                        }\r\n                    })\r\n                    \r\n                    .value();\r\n\r\n                    return result\r\n\r\n                /*let vcRef = _.groupBy(this.hooks, \"vehicleClass\")\r\n                console.log(vcRef)\r\n\r\n                let mRef = _.map(vcRef, (function(v, i) {\r\n                    return {\r\n                        i: _.groupBy(v, \"vehicleName\")\r\n                    }\r\n                \r\n                }))\r\n\r\n                return mRef\r\n                */ },\r\n\r\n                pointsStats() {\r\n                var result = _.chain(this.hooks)\r\n                    .filter(['isMember', true])\r\n                    .filter(['duesPaid', true])\r\n                    .filter(['dq',false])\r\n                    .groupBy(\"vehicleClass\")\r\n                    .map(function(v,id) {\r\n                        return {\r\n                            name: id,\r\n                            vehicle: (_.chain(_.groupBy(v,'vehicle'))\r\n                            .map(function(h,k) {\r\n                                return {\r\n                                    name: k,\r\n                                    points: _.sumBy(h,'points')\r\n                                }\r\n                            }).orderBy('points','desc')\r\n                            .value()\r\n                            )}\r\n                    })\r\n                    \r\n                    .value();\r\n\r\n                    return result\r\n\r\n                /*let vcRef = _.groupBy(this.hooks, \"vehicleClass\")\r\n                console.log(vcRef)\r\n\r\n                let mRef = _.map(vcRef, (function(v, i) {\r\n                    return {\r\n                        i: _.groupBy(v, \"vehicleName\")\r\n                    }\r\n                \r\n                }))\r\n\r\n                return mRef\r\n                */ },\r\n                \r\n                \r\n        }\r\n        \r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n.winner {\r\n    font-size: 1.1em;\r\n\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}