{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\addVehicle.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\addVehicle.vue","mtime":1579297229379},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2RifSBmcm9tICcuLi8uLi9maXJlYmFzZWNvbmZpZy5qcycNCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2FkbWluJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGVyZm9ybWluZ1JlcXVlc3Q6IGZhbHNlLA0KICAgICAgbWVtYmVyczoge30sDQogICAgICB2ZWhpY2xlOiB7fSwNCiAgICAgIHZlaGljbGVzOiB7fSwNCiAgICAgIHZlaGljbGVDbGFzc2VzOiB7fSwNCiAgICAgIHZlaGljbGVGb3JtOiB7DQogICAgICAgIG5hbWU6ICcnLA0KICAgICAgICBtZW1iZXJMb29rdXA6ICcnLA0KICAgICAgICAvL3RlY2hQYXNzZWQ6ICcnLA0KICAgICAgICB2ZWhpY2xlQ2xhc3NlczogW10NCiAgICB9DQogICAgfQ0KICB9LA0KICBmaXJlc3RvcmUoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vcHVsbDogZGIuY29sbGVjdGlvbigncHVsbHMnKS5kb2MoY3VycmVudFB1bGwpLA0KICAgICAgbWVtYmVyczogZGIuY29sbGVjdGlvbignbWVtYmVycycpLA0KICAgICAgdmVoaWNsZXM6IGRiLmNvbGxlY3Rpb24oJ3ZlaGljbGVzJyksDQogICAgICB2ZWhpY2xlQ2xhc3NlczogZGIuY29sbGVjdGlvbigndmVoaWNsZUNsYXNzZXMnKS5vcmRlckJ5KCJuYW1lIikNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoWydjdXJyZW50VXNlciddKQ0KICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIGFkZFZlaGljbGU6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgLy8gc3RhcnQgdHJhbnNpdGlvbi9sb2FkaW5nIHZpZXcNCiAgICAgICAgICAgDQogICAgICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRWZWhpY2xlRm9ybSIpDQogICAgICAgICAgICBsZXQgZG9jID0gdGhpcy52ZWhpY2xlRm9ybS5uYW1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKS5qb2luKCItIikNCg0KICAgICAgICAgICAgLy8gYWRkIHB1bGwgdG8gRmlyZXN0b3JlDQogICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJ2ZWhpY2xlcyIpLmRvYyhkb2MpLnNldCh7DQogICAgICAgICAgICAgICAgbmFtZTogdGhpcy52ZWhpY2xlRm9ybS5uYW1lLA0KICAgICAgICAgICAgICAgIG1lbWJlcjogdGhpcy52ZWhpY2xlRm9ybS5tZW1iZXJMb29rdXAsDQogICAgICAgICAgICAgICAgY2xhc3NlczogdGhpcy52ZWhpY2xlRm9ybS52ZWhpY2xlQ2xhc3NlcywNCiAgICAgICAgICAgICAgICBjcmVhdGVkOiBuZXcgRGF0ZSgpLA0KICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogdGhpcy5jdXJyZW50VXNlci51aWQNCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZG9jUmVmKSB7DQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygiVmVoaWNsZSB3cml0dGVuIHdpdGggSUQ6ICIsIGRvY1JlZi5kb2MpDQogICAgICAgICAgICAgICAgZm9ybS5yZXNldCgpDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9DQogIH0NCg0K"},{"version":3,"sources":["addVehicle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"addVehicle.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n         <v-container>\r\n           <h1>Add Vehicle</h1>\r\n           <v-form id=\"addVehicleForm\">\r\n            \r\n               <v-text-field label=\"Vehicle Name\" v-model=\"vehicleForm.name\" color=\"secondary\" hint=\"A unique name for the tractor that is different from all other members.\"></v-text-field>\r\n               <v-autocomplete \r\n                v-model=\"vehicleForm.memberLookup\" \r\n                label=\"Lookup Member\"\r\n                :items=\"members\" \r\n                hint=\"Select a member who is primarily responsible for this vehicle.\"\r\n                item-text=\"fullName\"\r\n                item-value=\"id\"\r\n                persistent-hint\r\n                color=\"secondary\"\r\n                clearable\r\n                return-object\r\n                chips\r\n                >\r\n                </v-autocomplete>\r\n                <v-autocomplete v-model=\"vehicleForm.vehicleClasses\" :items=\"vehicleClasses\" multiple chips return-object item-text=\"name\" item-value=\"name\" color=\"secondary\" label=\"Choose a vehicle class (or classes).\" clearable>\r\n                </v-autocomplete>\r\n               <v-btn @click=\"addVehicle\">Add vehicle</v-btn>\r\n             \r\n           </v-form>\r\n         </v-container>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {db} from '../../firebaseconfig.js'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'admin',\r\n  data() {\r\n    return {\r\n      performingRequest: false,\r\n      members: {},\r\n      vehicle: {},\r\n      vehicles: {},\r\n      vehicleClasses: {},\r\n      vehicleForm: {\r\n        name: '',\r\n        memberLookup: '',\r\n        //techPassed: '',\r\n        vehicleClasses: []\r\n    }\r\n    }\r\n  },\r\n  firestore() {\r\n    return {\r\n      //pull: db.collection('pulls').doc(currentPull),\r\n      members: db.collection('members'),\r\n      vehicles: db.collection('vehicles'),\r\n      vehicleClasses: db.collection('vehicleClasses').orderBy(\"name\")\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n    methods: {\r\n      addVehicle: function() {\r\n            // start transition/loading view\r\n           \r\n            let form = document.getElementById(\"addVehicleForm\")\r\n            let doc = this.vehicleForm.name.toLowerCase().split(\" \").join(\"-\")\r\n\r\n            // add pull to Firestore\r\n            db.collection(\"vehicles\").doc(doc).set({\r\n                name: this.vehicleForm.name,\r\n                member: this.vehicleForm.memberLookup,\r\n                classes: this.vehicleForm.vehicleClasses,\r\n                created: new Date(),\r\n                createdBy: this.currentUser.uid\r\n            }).then(function(docRef) {\r\n                //console.log(\"Vehicle written with ID: \", docRef.doc)\r\n                form.reset()\r\n                \r\n            });\r\n      }\r\n    }\r\n  }\r\n\r\n</script>"]}]}