{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\addMember.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\addMember.vue","mtime":1580684614858},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2RifSBmcm9tICcuLi8uLi9maXJlYmFzZWNvbmZpZy5qcycNCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2FkZE1lbWJlcicsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBlcmZvcm1pbmdSZXF1ZXN0OiBmYWxzZSwNCiAgICAgIGJ0bU1lbWJlcnM6IGZhbHNlLA0KICAgICAgbWVtYmVyRm9ybTogew0KICAgICAgICAgIGZpcnN0TmFtZTogJycsDQogICAgICAgICAgbGFzdE5hbWU6ICcnLA0KICAgICAgICAgIGFkZHJlc3M6ICcnLA0KICAgICAgICAgIHBob25lbnVtYmVyOiAnJywNCiAgICAgICAgICBlbWFpbEFkZHJlc3M6ICcnLA0KICAgICAgICAgIG1lbWJlcnNoaXBUeXBlOiAnJywNCiAgICAgICAgICBjb3VudFRyYWN0b3JzOiBudWxsLA0KICAgICAgICAgIGR1ZXNQYWlkOiBmYWxzZQ0KICAgICAgfSwNCiAgICAgIG1lbWJlcnNoaXBDb3N0OiB7DQogICAgICAgIHNpbmdsZTogMTUsDQogICAgICAgIGhvdXNlaG9sZDogMjUsDQogICAgICAgIGFkZGl0aW9uYWxUcmFjdG9yczogNQ0KICAgICAgfSwNCiAgICAgIG1lbWJlcjoge30sDQogICAgICBtZW1iZXJzOiB7fSwNCiAgICANCiAgICB9DQogIH0sDQogIGZpcmVzdG9yZSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgLy9wdWxsOiBkYi5jb2xsZWN0aW9uKCdwdWxscycpLmRvYyhjdXJyZW50UHVsbCksDQogICAgICBtZW1iZXI6IGRiLmNvbGxlY3Rpb24oJ21lbWJlcnMnKS5vcmRlckJ5KCJjcmVhdGVkIiwgImRlc2MiKS5saW1pdCgxKSwNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgb3V0c3RhbmRpbmdkdWVzKCkgew0KICAgICAgaWYgKHRoaXMubWVtYmVyRm9ybS5tZW1iZXJzaGlwVHlwZSA9PSAic2luZ2xlIikgew0KICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJzaGlwQ29zdC5zaW5nbGUgKyAoKHRoaXMubWVtYmVyRm9ybS5jb3VudFRyYWN0b3JzIC0xKSp0aGlzLm1lbWJlcnNoaXBDb3N0LmFkZGl0aW9uYWxUcmFjdG9ycykNCiAgICAgIH0NCiAgICAgIGVsc2UgaWYgKHRoaXMubWVtYmVyRm9ybS5tZW1iZXJzaGlwVHlwZSA9PSAiaG91c2Vob2xkIikgew0KICAgICAgICByZXR1cm4gdGhpcy5tZW1iZXJzaGlwQ29zdC5ob3VzZWhvbGQgKyAoKHRoaXMubWVtYmVyRm9ybS5jb3VudFRyYWN0b3JzIC0yKSAqIHRoaXMubWVtYmVyc2hpcENvc3QuYWRkaXRpb25hbFRyYWN0b3JzKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLi4ubWFwU3RhdGUoWydjdXJyZW50VXNlciddKQ0KICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIGFkZE1lbWJlcjogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAvLyBzdGFydCB0cmFuc2l0aW9uL2xvYWRpbmcgdmlldw0KICAgICAgICAgICAgbGV0IHBmID0gdGhpcy5wZXJmb3JtaW5nUmVxdWVzdA0KICAgICAgICAgICAgcGYgPSB0cnVlDQogICAgICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRNZW1iZXJGb3JtIikNCiAgICAgICAgICAgIGxldCBmdWxsTmFtZSA9IHRoaXMubWVtYmVyRm9ybS5maXJzdE5hbWUgKyAnICcgKyB0aGlzLm1lbWJlckZvcm0ubGFzdE5hbWUNCg0KICAgICAgICAgICAgLy8gYWRkIHB1bGwgdG8gRmlyZXN0b3JlDQogICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJtZW1iZXJzIikuYWRkKHsNCiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHRoaXMubWVtYmVyRm9ybS5maXJzdE5hbWUsDQogICAgICAgICAgICAgICAgbGFzdE5hbWU6IHRoaXMubWVtYmVyRm9ybS5sYXN0TmFtZSwNCiAgICAgICAgICAgICAgICBmdWxsTmFtZTogZnVsbE5hbWUsDQogICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5tZW1iZXJGb3JtLmFkZHJlc3MsDQogICAgICAgICAgICAgICAgcGhvbmVudW1iZXI6IHRoaXMubWVtYmVyRm9ybS5waG9uZW51bWJlciwNCiAgICAgICAgICAgICAgICBlbWFpbEFkZHJlc3M6IHRoaXMubWVtYmVyRm9ybS5lbWFpbEFkZHJlc3MsDQogICAgICAgICAgICAgICAgbWVtYmVyc2hpcFR5cGU6IHRoaXMubWVtYmVyRm9ybS5tZW1iZXJzaGlwVHlwZSwNCiAgICAgICAgICAgICAgICBjb3VudFRyYWN0b3JzOiB0aGlzLm1lbWJlckZvcm0uY291bnRUcmFjdG9ycywNCiAgICAgICAgICAgICAgICBkdWVzUGFpZDogdGhpcy5tZW1iZXJGb3JtLmR1ZXNQYWlkLA0KICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCksDQogICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiB0aGlzLmN1cnJlbnRVc2VyLnVpZA0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihkb2NSZWYpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiTWVtYmVyIHdyaXR0ZW4gd2l0aCBJRDogIiwgZG9jUmVmLmlkKQ0KICAgICAgICAgICAgICAgIHBmID0gZmFsc2UNCiAgICAgICAgICAgICAgICBmb3JtLnJlc2V0KCkNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0pOw0KICAgICAgfSwNCiAgICAgIGdvQmFjaygpIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQo="},{"version":3,"sources":["addMember.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addMember.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <v-container>\r\n      <v-card flat tile>\r\n        <v-card-title>Add a member</v-card-title>\r\n                <v-card-text>\r\n                <v-form dense>\r\n                  <form id=\"addMemberForm\">\r\n                  <v-row>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                  <v-text-field v-model=\"memberForm.firstName\" label=\"First Name\" color=\"secondary\" :type=\"string\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                  <v-text-field v-model=\"memberForm.lastName\" label=\"Last Name\" color=\"secondary\" :type=\"string\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                  <v-text-field v-model=\"memberForm.address\" label=\"Address, City, State, Zip\" color=\"secondary\" :type=\"string\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col md=\"4\" cols=\"12\">\r\n                  <v-text-field v-model=\"memberForm.phonenumber\" label=\"Phone Number\" color=\"secondary\" type=\"tel\" mask=\"(###) ###-####\" masked=\"true\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col md=\"4\" cols=\"12\">\r\n                  <v-text-field v-model=\"memberForm.emailAddress\" label=\"Email Address\" color=\"secondary\" type=\"email\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col md=\"4\" cols=\"12\">\r\n                  <v-text-field v-model=\"memberForm.countTractors\" label=\"Number of Tractors\" color=\"secondary\" type=\"number\"></v-text-field>\r\n                  </v-col>\r\n                  </v-row>\r\n                  <v-row>\r\n                  <v-col cols=\"12\" md=\"4\">  \r\n                  <v-radio-group v-model=\"memberForm.membershipType\" label=\"Membership Type\">\r\n                    <v-radio label=\"Single\" value=\"single\" class=\"\" color=\"orange darken-3\"></v-radio>\r\n                    <v-radio label=\"Household\" value=\"household\" color=\"orange darken-3\"></v-radio>\r\n                  </v-radio-group>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"4\">\r\n                  <v-text-field v-model=\"outstandingdues\" :type=\"number\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"4\">\r\n                  <v-switch inset color=\"orange darken-3\" label=\"Membership dues paid?\" v-model=\"duesPaid\"></v-switch>\r\n                  </v-col>\r\n                  </v-row>\r\n                  <transition name=\"fade\">\r\n    <div v-if=\"performingRequest\" class=\"loading\">\r\n        <v-progress-linear indeterminate color=\"info\"></v-progress-linear>\r\n    </div>\r\n</transition>\r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                  <v-btn @click.stop=\"goBack\" text color=\"secondary\">Cancel</v-btn>\r\n                  <v-btn @click=\"addMember\" outlined color=\"success\">Add member</v-btn>\r\n                  \r\n                  </v-card-actions>\r\n                  </form>\r\n                </v-form>\r\n                </v-card-text>\r\n      </v-card>\r\n              </v-container>\r\n   \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {db} from '../../firebaseconfig.js'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'addMember',\r\n  data() {\r\n    return {\r\n      performingRequest: false,\r\n      btmMembers: false,\r\n      memberForm: {\r\n          firstName: '',\r\n          lastName: '',\r\n          address: '',\r\n          phonenumber: '',\r\n          emailAddress: '',\r\n          membershipType: '',\r\n          countTractors: null,\r\n          duesPaid: false\r\n      },\r\n      membershipCost: {\r\n        single: 15,\r\n        household: 25,\r\n        additionalTractors: 5\r\n      },\r\n      member: {},\r\n      members: {},\r\n    \r\n    }\r\n  },\r\n  firestore() {\r\n    return {\r\n      //pull: db.collection('pulls').doc(currentPull),\r\n      member: db.collection('members').orderBy(\"created\", \"desc\").limit(1),\r\n    }\r\n  },\r\n  computed: {\r\n    outstandingdues() {\r\n      if (this.memberForm.membershipType == \"single\") {\r\n        return this.membershipCost.single + ((this.memberForm.countTractors -1)*this.membershipCost.additionalTractors)\r\n      }\r\n      else if (this.memberForm.membershipType == \"household\") {\r\n        return this.membershipCost.household + ((this.memberForm.countTractors -2) * this.membershipCost.additionalTractors)\r\n      }\r\n    },\r\n    ...mapState(['currentUser'])\r\n  },\r\n    methods: {\r\n      addMember: function() {\r\n            // start transition/loading view\r\n            let pf = this.performingRequest\r\n            pf = true\r\n            let form = document.getElementById(\"addMemberForm\")\r\n            let fullName = this.memberForm.firstName + ' ' + this.memberForm.lastName\r\n\r\n            // add pull to Firestore\r\n            db.collection(\"members\").add({\r\n                firstName: this.memberForm.firstName,\r\n                lastName: this.memberForm.lastName,\r\n                fullName: fullName,\r\n                address: this.memberForm.address,\r\n                phonenumber: this.memberForm.phonenumber,\r\n                emailAddress: this.memberForm.emailAddress,\r\n                membershipType: this.memberForm.membershipType,\r\n                countTractors: this.memberForm.countTractors,\r\n                duesPaid: this.memberForm.duesPaid,\r\n                created: new Date(),\r\n                createdBy: this.currentUser.uid\r\n            }).then(function(docRef) {\r\n                console.log(\"Member written with ID: \", docRef.id)\r\n                pf = false\r\n                form.reset()\r\n                \r\n            });\r\n      },\r\n      goBack() {\r\n        this.$router.go(-1)\r\n      }\r\n    }\r\n  }\r\n\r\n</script>"]}]}