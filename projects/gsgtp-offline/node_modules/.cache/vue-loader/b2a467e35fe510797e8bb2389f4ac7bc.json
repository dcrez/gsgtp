{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\addMember.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\addMember.vue","mtime":1621472906484},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2RifSBmcm9tICcuLi8uLi9maXJlYmFzZWNvbmZpZy5qcycNCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2FkZE1lbWJlcicsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBlcmZvcm1pbmdSZXF1ZXN0OiBmYWxzZSwNCiAgICAgIGJ0bU1lbWJlcnM6IGZhbHNlLA0KICAgICAgc3VjY2Vzc01lc3NhZ2U6JycsDQogICAgICBlcnJvck1lc3NhZ2U6JycsDQogICAgICBtZW1iZXJGb3JtOiB7DQogICAgICAgICAgZmlyc3ROYW1lOiAnJywNCiAgICAgICAgICBsYXN0TmFtZTogJycsDQogICAgICAgICAgYWRkcmVzczogJycsDQogICAgICAgICAgcGhvbmVudW1iZXI6ICcnLA0KICAgICAgICAgIGVtYWlsQWRkcmVzczogJycsDQogICAgICAgICAgbWVtYmVyc2hpcFR5cGU6ICcnDQogICAgICB9LA0KICAgICAgbWVtYmVyc2hpcENvc3Q6IHsNCiAgICAgICAgc2luZ2xlOiAxNSwNCiAgICAgICAgaG91c2Vob2xkOiAyNSwNCiAgICAgICAgYWRkaXRpb25hbFRyYWN0b3JzOiA1DQogICAgICB9LA0KICAgICAgbWVtYmVyOiB7fSwNCiAgICAgIG1lbWJlcnM6IHt9LA0KICAgIA0KICAgIH0NCiAgfSwNCiAgZmlyZXN0b3JlKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL3B1bGw6IGRiLmNvbGxlY3Rpb24oJ3B1bGxzJykuZG9jKGN1cnJlbnRQdWxsKSwNCiAgICAgIG1lbWJlcjogZGIuY29sbGVjdGlvbignbWVtYmVycycpLm9yZGVyQnkoImNyZWF0ZWQiLCAiZGVzYyIpLmxpbWl0KDEpLA0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbJ2N1cnJlbnRVc2VyJ10pDQogIH0sDQogICAgbWV0aG9kczogew0KICAgICAgYWRkTWVtYmVyOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIC8vIHN0YXJ0IHRyYW5zaXRpb24vbG9hZGluZyB2aWV3DQogICAgICAgICAgICBsZXQgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZGRNZW1iZXJGb3JtIikNCiAgICAgICAgICAgIGxldCBmdWxsTmFtZSA9IHRoaXMubWVtYmVyRm9ybS5maXJzdE5hbWUgKyAnICcgKyB0aGlzLm1lbWJlckZvcm0ubGFzdE5hbWUNCiAgICAgICAgICAgIGxldCBzbSA9IHRoaXMuc3VjY2Vzc01lc3NhZ2UNCiAgICAgICAgICAgIGxldCBtaWQgPSAnJw0KICAgICAgICAgICAgbGV0IHIgPSB0aGlzLiRyb3V0ZXINCiAgICAgICAgICAgIC8vIGFkZCBwdWxsIHRvIEZpcmVzdG9yZQ0KICAgICAgICAgICAgZGIuY29sbGVjdGlvbigibWVtYmVycyIpLmFkZCh7DQogICAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0aGlzLm1lbWJlckZvcm0uZmlyc3ROYW1lLA0KICAgICAgICAgICAgICAgIGxhc3ROYW1lOiB0aGlzLm1lbWJlckZvcm0ubGFzdE5hbWUsDQogICAgICAgICAgICAgICAgZnVsbE5hbWU6IGZ1bGxOYW1lLA0KICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMubWVtYmVyRm9ybS5hZGRyZXNzLA0KICAgICAgICAgICAgICAgIHBob25lbnVtYmVyOiB0aGlzLm1lbWJlckZvcm0ucGhvbmVudW1iZXIsDQogICAgICAgICAgICAgICAgZW1haWxBZGRyZXNzOiB0aGlzLm1lbWJlckZvcm0uZW1haWxBZGRyZXNzLA0KICAgICAgICAgICAgICAgIG1lbWJlcnNoaXBUeXBlOiB0aGlzLm1lbWJlckZvcm0ubWVtYmVyc2hpcFR5cGUsDQogICAgICAgICAgICAgICAgLy9jb3VudFRyYWN0b3JzOiB0aGlzLm1lbWJlckZvcm0uY291bnRUcmFjdG9ycywNCiAgICAgICAgICAgICAgICAvL2R1ZXNQYWlkOiB0aGlzLm1lbWJlckZvcm0uZHVlc1BhaWQsDQogICAgICAgICAgICAgICAgY3JlYXRlZDogbmV3IERhdGUoKSwNCiAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IHRoaXMuY3VycmVudFVzZXIudWlkDQogICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKGRvY1JlZikgew0KICAgICAgICAgICAgICAgIG1pZCA9IGRvY1JlZi5pZA0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJNZW1iZXIgd3JpdHRlbiB3aXRoIElEOiAiLCBkb2NSZWYuaWQpDQogICAgICAgICAgICAgICAgc20gPSAiTWVtYmVyICIgKyBtaWQgKyAiIGFkZGVkISINCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzbSkNCiAgICAgICAgICAgICAgICByLnB1c2goe3BhdGg6YC9tZW1iZXIvJHttaWR9YH0pDQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVyci5tZXNzYWdlDQogICAgICAgICAgICAgIA0KICAgICAgICAgICAgfSk7DQoNCg0KICAgICAgfSwNCiAgICAgIGdvQmFjaygpIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQ0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQo="},{"version":3,"sources":["addMember.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA","file":"addMember.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <v-container>\r\n      <v-card flat tile>\r\n        <v-card-title>Add a member</v-card-title>\r\n                <v-card-text>\r\n                <v-form dense>\r\n                  <form id=\"addMemberForm\">\r\n                  <v-row>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                  <v-text-field v-model=\"memberForm.firstName\" label=\"First Name\" color=\"secondary\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\" md=\"6\">\r\n                  <v-text-field v-model=\"memberForm.lastName\" label=\"Last Name\" color=\"secondary\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"12\">\r\n                  <v-text-field v-model=\"memberForm.address\" label=\"Address, City, State, Zip\" color=\"secondary\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col md=\"4\" cols=\"12\">\r\n                  <v-text-field v-model=\"memberForm.phonenumber\" label=\"Phone Number\" color=\"secondary\" type=\"tel\" mask=\"(###) ###-####\" masked=\"true\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col md=\"4\" cols=\"12\">\r\n                  <v-text-field v-model=\"memberForm.emailAddress\" label=\"Email Address\" color=\"secondary\" type=\"email\"></v-text-field>\r\n                  </v-col>\r\n                  \r\n                  </v-row>\r\n                  <v-row>\r\n                  <v-col cols=\"12\" md=\"4\" >  \r\n                  <v-radio-group v-model=\"memberForm.membershipType\" label=\"Membership Type\">\r\n                    <v-radio label=\"Single\" value=\"single\" class=\"\" color=\"orange darken-3\"></v-radio>\r\n                    <v-radio label=\"Household\" value=\"household\" color=\"orange darken-3\"></v-radio>\r\n                  </v-radio-group>\r\n                  </v-col>\r\n                  \r\n                  </v-row>\r\n                  <v-row>\r\n                   <v-alert type=\"success\" v-if=\"successMessage != null\">{{successMessage}}</v-alert>   \r\n\r\n                  </v-row>\r\n\r\n<v-alert type=\"success\" v-if=\"successMessage != ''\">{{successMessage}}</v-alert>\r\n<v-alert type=\"error\" v-if=\"errorMessage != ''\">{{errorMessage}}</v-alert>\r\n\r\n                  <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                  <v-btn @click.stop=\"goBack\" text color=\"secondary\">Cancel</v-btn>\r\n                  <v-btn @click=\"addMember\" outlined color=\"success\">Add member</v-btn>\r\n                  \r\n                  </v-card-actions>\r\n                  </form>\r\n                </v-form>\r\n                </v-card-text>\r\n      </v-card>\r\n              </v-container>\r\n   \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {db} from '../../firebaseconfig.js'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'addMember',\r\n  data() {\r\n    return {\r\n      performingRequest: false,\r\n      btmMembers: false,\r\n      successMessage:'',\r\n      errorMessage:'',\r\n      memberForm: {\r\n          firstName: '',\r\n          lastName: '',\r\n          address: '',\r\n          phonenumber: '',\r\n          emailAddress: '',\r\n          membershipType: ''\r\n      },\r\n      membershipCost: {\r\n        single: 15,\r\n        household: 25,\r\n        additionalTractors: 5\r\n      },\r\n      member: {},\r\n      members: {},\r\n    \r\n    }\r\n  },\r\n  firestore() {\r\n    return {\r\n      //pull: db.collection('pulls').doc(currentPull),\r\n      member: db.collection('members').orderBy(\"created\", \"desc\").limit(1),\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n    methods: {\r\n      addMember: function() {\r\n            // start transition/loading view\r\n            let form = document.getElementById(\"addMemberForm\")\r\n            let fullName = this.memberForm.firstName + ' ' + this.memberForm.lastName\r\n            let sm = this.successMessage\r\n            let mid = ''\r\n            let r = this.$router\r\n            // add pull to Firestore\r\n            db.collection(\"members\").add({\r\n                firstName: this.memberForm.firstName,\r\n                lastName: this.memberForm.lastName,\r\n                fullName: fullName,\r\n                address: this.memberForm.address,\r\n                phonenumber: this.memberForm.phonenumber,\r\n                emailAddress: this.memberForm.emailAddress,\r\n                membershipType: this.memberForm.membershipType,\r\n                //countTractors: this.memberForm.countTractors,\r\n                //duesPaid: this.memberForm.duesPaid,\r\n                created: new Date(),\r\n                createdBy: this.currentUser.uid\r\n            }).then(function(docRef) {\r\n                mid = docRef.id\r\n                console.log(\"Member written with ID: \", docRef.id)\r\n                sm = \"Member \" + mid + \" added!\"\r\n                console.log(sm)\r\n                r.push({path:`/member/${mid}`})\r\n                \r\n            }).catch(err => {\r\n              this.errorMessage = err.message\r\n              \r\n            });\r\n\r\n\r\n      },\r\n      goBack() {\r\n        this.$router.go(-1)\r\n      }\r\n    }\r\n  }\r\n\r\n</script>"]}]}