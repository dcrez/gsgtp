{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js??ref--17-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\addVehicle.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\addVehicle.vue","mtime":1580684784951},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcVXNlcnNcXGRhbmllXFxHaXRIdWJcXGRjcmV6LmdpdGh1Yi5pb1xccHJvamVjdHNcXGdzZ3RwLW9mZmxpbmVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2Vjb25maWcuanMnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FkbWluJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVyZm9ybWluZ1JlcXVlc3Q6IGZhbHNlLAogICAgICBtZW1iZXJzOiB7fSwKICAgICAgdmVoaWNsZToge30sCiAgICAgIHZlaGljbGVzOiB7fSwKICAgICAgdmVoaWNsZUNsYXNzZXM6IHt9LAogICAgICB2ZWhpY2xlRm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG1lbWJlckxvb2t1cDogJycsCiAgICAgICAgLy90ZWNoUGFzc2VkOiAnJywKICAgICAgICB2ZWhpY2xlQ2xhc3NlczogW10sCiAgICAgICAgaW1nOiAnJwogICAgICB9CiAgICB9OwogIH0sCiAgZmlyZXN0b3JlOiBmdW5jdGlvbiBmaXJlc3RvcmUoKSB7CiAgICByZXR1cm4gewogICAgICAvL3B1bGw6IGRiLmNvbGxlY3Rpb24oJ3B1bGxzJykuZG9jKGN1cnJlbnRQdWxsKSwKICAgICAgbWVtYmVyczogZGIuY29sbGVjdGlvbignbWVtYmVycycpLAogICAgICB2ZWhpY2xlczogZGIuY29sbGVjdGlvbigndmVoaWNsZXMnKSwKICAgICAgdmVoaWNsZUNsYXNzZXM6IGRiLmNvbGxlY3Rpb24oJ3ZlaGljbGVDbGFzc2VzJykub3JkZXJCeSgibmFtZSIpCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsnY3VycmVudFVzZXInXSkpLAogIG1ldGhvZHM6IHsKICAgIGFkZFZlaGljbGU6IGZ1bmN0aW9uIGFkZFZlaGljbGUoKSB7CiAgICAgIC8vIHN0YXJ0IHRyYW5zaXRpb24vbG9hZGluZyB2aWV3CiAgICAgIHZhciBwZiA9IHRoaXMucGVyZm9ybWluZ1JlcXVlc3Q7CiAgICAgIHBmID0gdHJ1ZTsKICAgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkVmVoaWNsZUZvcm0iKTsKICAgICAgdmFyIGRvYyA9IHRoaXMudmVoaWNsZUZvcm0ubmFtZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIikuam9pbigiLSIpOwogICAgICB2YXIgdmYgPSB0aGlzLnZlaGljbGVGb3JtOyAvLyBhZGQgcHVsbCB0byBGaXJlc3RvcmUKCiAgICAgIGRiLmNvbGxlY3Rpb24oInZlaGljbGVzIikuZG9jKGRvYykuc2V0KHsKICAgICAgICBuYW1lOiB0aGlzLnZlaGljbGVGb3JtLm5hbWUsCiAgICAgICAgbWVtYmVyOiB0aGlzLnZlaGljbGVGb3JtLm1lbWJlckxvb2t1cCwKICAgICAgICBjbGFzc2VzOiB0aGlzLnZlaGljbGVGb3JtLnZlaGljbGVDbGFzc2VzLAogICAgICAgIGNyZWF0ZWQ6IG5ldyBEYXRlKCksCiAgICAgICAgY3JlYXRlZEJ5OiB0aGlzLmN1cnJlbnRVc2VyLnVpZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChkb2NSZWYpIHsKICAgICAgICBjb25zb2xlLmxvZygiVmVoaWNsZSB3cml0dGVuIHdpdGggSUQ6ICIsIGRvY1JlZik7CiAgICAgICAgcGYgPSBmYWxzZTsKICAgICAgICB2Zi5uYW1lID0gJyc7CiAgICAgICAgdmYubWVtYmVyTG9va3VwID0gJycsIHZmLnZlaGljbGVDbGFzc2VzID0gJycsIHZmLmltZyA9ICcnOwogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHsKICAgICAgdGhpcy52ZWhpY2xlRm9ybS5uYW1lID0gJycsIHRoaXMudmVoaWNsZUZvcm0ubWVtYmVyTG9va3VwID0gbnVsbCwgdGhpcy52ZWhpY2xlRm9ybS52ZWhpY2xlQ2xhc3NlcyA9IFtdOwogICAgfQogIH0KfTs="},{"version":3,"sources":["addVehicle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SAAA,EAAA,QAAA,yBAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,cAAA,EAAA,EALA;AAMA,MAAA,WAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,YAAA,EAAA,EAFA;AAGA;AACA,QAAA,cAAA,EAAA,EAJA;AAKA,QAAA,GAAA,EAAA;AALA;AANA,KAAA;AAcA,GAjBA;AAkBA,EAAA,SAlBA,uBAkBA;AACA,WAAA;AACA;AACA,MAAA,OAAA,EAAA,EAAA,CAAA,UAAA,CAAA,SAAA,CAFA;AAGA,MAAA,QAAA,EAAA,EAAA,CAAA,UAAA,CAAA,UAAA,CAHA;AAIA,MAAA,cAAA,EAAA,EAAA,CAAA,UAAA,CAAA,gBAAA,EAAA,OAAA,CAAA,MAAA;AAJA,KAAA;AAMA,GAzBA;AA0BA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,aAAA,CAAA,CADA,CA1BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA;AACA,UAAA,EAAA,GAAA,KAAA,iBAAA;AACA,MAAA,EAAA,GAAA,IAAA;AACA,UAAA,IAAA,GAAA,QAAA,CAAA,cAAA,CAAA,gBAAA,CAAA;AACA,UAAA,GAAA,GAAA,KAAA,WAAA,CAAA,IAAA,CAAA,WAAA,GAAA,KAAA,CAAA,GAAA,EAAA,IAAA,CAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,KAAA,WAAA,CANA,CAQA;;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,GAAA,CAAA,GAAA,EAAA,GAAA,CAAA;AACA,QAAA,IAAA,EAAA,KAAA,WAAA,CAAA,IADA;AAEA,QAAA,MAAA,EAAA,KAAA,WAAA,CAAA,YAFA;AAGA,QAAA,OAAA,EAAA,KAAA,WAAA,CAAA,cAHA;AAIA,QAAA,OAAA,EAAA,IAAA,IAAA,EAJA;AAKA,QAAA,SAAA,EAAA,KAAA,WAAA,CAAA;AALA,OAAA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2BAAA,EAAA,MAAA;AACA,QAAA,EAAA,GAAA,KAAA;AACA,QAAA,EAAA,CAAA,IAAA,GAAA,EAAA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,EAAA,EACA,EAAA,CAAA,cAAA,GAAA,EADA,EAEA,EAAA,CAAA,GAAA,GAAA,EAFA;AAMA,OAhBA;AAiBA,KA3BA;AA4BA,IAAA,SA5BA,uBA4BA;AACA,WAAA,WAAA,CAAA,IAAA,GAAA,EAAA,EAAA,KAAA,WAAA,CAAA,YAAA,GAAA,IAAA,EAAA,KAAA,WAAA,CAAA,cAAA,GAAA,EAAA;AACA;AA9BA;AA7BA,CAAA","sourcesContent":["<template>\r\n<div>\r\n  <v-card>\r\n         <v-container>\r\n           <v-card-title>Add vehicle</v-card-title>\r\n           <v-card-text>\r\n           <v-form id=\"addVehicleForm\">\r\n            \r\n               <v-text-field label=\"Vehicle Name\" v-model=\"vehicleForm.name\" color=\"secondary\" hint=\"A unique name for the tractor that is different from all other members.\"></v-text-field>\r\n               <v-autocomplete \r\n                v-model=\"vehicleForm.memberLookup\" \r\n                label=\"Lookup Member\"\r\n                :items=\"members\" \r\n                hint=\"Select a member who is primarily responsible for this vehicle.\"\r\n                item-text=\"fullName\"\r\n                item-value=\"id\"\r\n                persistent-hint\r\n                color=\"secondary\"\r\n                clearable\r\n                return-object\r\n                chips\r\n                >\r\n                </v-autocomplete>\r\n                <v-autocomplete v-model=\"vehicleForm.vehicleClasses\" :items=\"vehicleClasses\" multiple chips return-object item-text=\"name\" item-value=\"name\" color=\"secondary\" label=\"Choose a vehicle class (or classes).\" clearable>\r\n                </v-autocomplete>\r\n                <transition name=\"fade\">\r\n    <div v-if=\"performingRequest\" class=\"loading\">\r\n        <v-progress-linear indeterminate color=\"info\"></v-progress-linear>\r\n    </div>\r\n</transition>\r\n                <!--<v-file-input label=\"Vehicle Image\" hint=\"(Optional) Upload a picture of the tractor.\"></v-file-input>-->\r\n               <v-card-actions><v-spacer></v-spacer><v-btn @click=\"resetForm\" text>Clear Form</v-btn><v-btn @click=\"addVehicle\" outlined color=\"green\">Add vehicle</v-btn></v-card-actions>\r\n             \r\n           </v-form>\r\n           </v-card-text>\r\n         </v-container>\r\n  </v-card>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport {db} from '../../firebaseconfig.js'\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  name: 'admin',\r\n  data() {\r\n    return {\r\n      performingRequest: false,\r\n      members: {},\r\n      vehicle: {},\r\n      vehicles: {},\r\n      vehicleClasses: {},\r\n      vehicleForm: {\r\n        name: '',\r\n        memberLookup: '',\r\n        //techPassed: '',\r\n        vehicleClasses: [],\r\n        img: ''\r\n    }\r\n    }\r\n  },\r\n  firestore() {\r\n    return {\r\n      //pull: db.collection('pulls').doc(currentPull),\r\n      members: db.collection('members'),\r\n      vehicles: db.collection('vehicles'),\r\n      vehicleClasses: db.collection('vehicleClasses').orderBy(\"name\")\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser'])\r\n  },\r\n    methods: {\r\n      addVehicle: function() {\r\n            // start transition/loading view\r\n            let pf = this.performingRequest\r\n            pf = true\r\n            let form = document.getElementById(\"addVehicleForm\")\r\n            let doc = this.vehicleForm.name.toLowerCase().split(\" \").join(\"-\")\r\n            let vf = this.vehicleForm\r\n\r\n            // add pull to Firestore\r\n            db.collection(\"vehicles\").doc(doc).set({\r\n                name: this.vehicleForm.name,\r\n                member: this.vehicleForm.memberLookup,\r\n                classes: this.vehicleForm.vehicleClasses,\r\n                created: new Date(),\r\n                createdBy: this.currentUser.uid\r\n            }).then(function(docRef) {\r\n                console.log(\"Vehicle written with ID: \", docRef)\r\n                pf = false\r\n                vf.name = ''\r\n                vf.memberLookup = '',\r\n                vf.vehicleClasses = '',\r\n                vf.img = ''\r\n      \r\n                \r\n                \r\n            });\r\n      },\r\n      resetForm() { \r\n          this.vehicleForm.name =  '', this.vehicleForm.memberLookup = null, this.vehicleForm.vehicleClasses = []\r\n    }\r\n  }\r\n}\r\n\r\n</script>"],"sourceRoot":"src/components"}]}