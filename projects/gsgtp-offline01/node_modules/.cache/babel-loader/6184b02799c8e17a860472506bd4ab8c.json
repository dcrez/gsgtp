{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\member.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\components\\member.vue","mtime":1583707693825},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZGFuaWUvR2l0SHViL2RjcmV6LmdpdGh1Yi5pby9wcm9qZWN0cy9nc2d0cC1vZmZsaW5lL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmxhdC1tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS51bnNjb3BhYmxlcy5mbGF0LW1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vLi4vZmlyZWJhc2Vjb25maWcuanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ21lbWJlcicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lbWJlclJlZjoge30sCiAgICAgIHZlaGljbGVzOiB7fSwKICAgICAgdG9kYXk6IG5ldyBEYXRlKCkKICAgIH07CiAgfSwKICBmaXJlc3RvcmU6IGZ1bmN0aW9uIGZpcmVzdG9yZSgpIHsKICAgIHZhciBtZW1iZXJVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VyLnVpZDsKICAgIHJldHVybiB7CiAgICAgIG1lbWJlclJlZjogZGIuY29sbGVjdGlvbignbWVtYmVycycpLmRvYyhtZW1iZXJVc2VySWQpLAogICAgICB2ZWhpY2xlczogZGIuY29sbGVjdGlvbigndmVoaWNsZXMnKS53aGVyZSgibWVtYmVyLnVzZXJJZCIsICI9PSIsIG1lbWJlclVzZXJJZCkKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ2N1cnJlbnRVc2VyJywgJ3VzZXJQcm9maWxlJ10pKSwge30sIHsKICAgIGZsYXRNZW1iZXI6IGZ1bmN0aW9uIGZsYXRNZW1iZXIoKSB7CiAgICAgIHZhciBtUiA9IHRoaXMubWVtYmVyUmVmOwoKICAgICAgXy5mbGF0TWFwKG1SKTsKCiAgICAgIHJldHVybiBtUjsKICAgIH0sCiAgICBkdWVzRW5kRGF0ZTogZnVuY3Rpb24gZHVlc0VuZERhdGUoKSB7CiAgICAgIHZhciBtUiA9IHRoaXMubWVtYmVyUmVmOwogICAgICB2YXIgY0QgPSB0aGlzLm1lbWJlclJlZi5jdXJyZW50RHVlczsgLy9jb25zb2xlLmxvZyhjRCkKICAgICAgLy9jb25zb2xlLmxvZyhjRC5lZmZlY3RpdmVFbmQpCgogICAgICBpZiAobVIgIT0gbnVsbCAmJiBjRCAhPSBudWxsKSB7CiAgICAgICAgdmFyIGVmZkVuZCA9IGNELmVmZmVjdGl2ZUVuZDsKICAgICAgICB2YXIgZWZmRW5kU2VjID0gZWZmRW5kLnNlY29uZHM7CiAgICAgICAgdmFyIHV0Y0RhdGUgPSBuZXcgRGF0ZShlZmZFbmQgKiAxMDAwKTsKICAgICAgICByZXR1cm4gdXRjRGF0ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ05vdCBjdXJyZW50JzsKICAgICAgfQogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIHZlaGljbGVEZXRhaWxzOiBmdW5jdGlvbiB2ZWhpY2xlRGV0YWlscyh2KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3ZlaGljbGUvIi5jb25jYXQodi5pZCkKICAgICAgfSk7CiAgICB9LAogICAgbWVtYmVyRGV0YWlsczogZnVuY3Rpb24gbWVtYmVyRGV0YWlscyhtKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL21lbWJlci8iLmNvbmNhdChtLnVzZXJJZCkKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["member.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAAA,QAAA,QAAA,MAAA;AACA,SAAA,EAAA,QAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA,IAAA,IAAA;AAHA,KAAA;AAMA,GATA;AAUA,EAAA,SAVA,uBAUA;AACA,QAAA,YAAA,GAAA,KAAA,WAAA,CAAA,GAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EAAA,CAAA,UAAA,CAAA,SAAA,EAAA,GAAA,CAAA,YAAA,CADA;AAEA,MAAA,QAAA,EAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,KAAA,CAAA,eAAA,EAAA,IAAA,EAAA,YAAA;AAFA,KAAA;AAIA,GAhBA;AAiBA,EAAA,QAAA,kCACA,QAAA,CAAA,CAAA,aAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,UAFA,wBAEA;AACA,UAAA,EAAA,GAAA,KAAA,SAAA;;AACA,MAAA,CAAA,CAAA,OAAA,CAAA,EAAA;;AACA,aAAA,EAAA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AACA,UAAA,EAAA,GAAA,KAAA,SAAA;AACA,UAAA,EAAA,GAAA,KAAA,SAAA,CAAA,WAAA,CAFA,CAGA;AACA;;AACA,UAAA,EAAA,IAAA,IAAA,IAAA,EAAA,IAAA,IAAA,EAAA;AACA,YAAA,MAAA,GAAA,EAAA,CAAA,YAAA;AACA,YAAA,SAAA,GAAA,MAAA,CAAA,OAAA;AACA,YAAA,OAAA,GAAA,IAAA,IAAA,CAAA,MAAA,GAAA,IAAA,CAAA;AACA,eAAA,OAAA;AACA,OALA,MAKA;AAAA,eAAA,aAAA;AAAA;AACA;AAlBA,IAjBA;AAqCA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,0BACA,CADA,EACA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,qBAAA,CAAA,CAAA,EAAA;AADA,OAAA;AAEA,KAJA;AAKA,IAAA,aALA,yBAKA,CALA,EAKA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,oBAAA,CAAA,CAAA,MAAA;AADA,OAAA;AAEA;AARA;AArCA,CAAA","sourcesContent":["<template>\r\n    <div class=\"mt-5\">\r\n        \r\n        <div>\r\n\r\n        <v-card class=\"mx-auto mb-5\"  color=\"grey lighten-4\" elevation=\"0\">\r\n            <v-card-text class=\"text--primary\" >\r\n            <div class=\"display-1\">{{flatMember.fullName}}</div>\r\n             <div class=\"mb-3\"><a href=\"#\" @click=\"memberDetails(flatMember)\">Manage membership</a></div>\r\n            <div v-if=\"vehicles\">\r\n            <p class=\"overline\">Vehicle(s)</p>\r\n            <v-row style=\"margin-top:-20px; padding:10px;\">\r\n                <div v-for=\"v in vehicles\" :key=\"v.id\" class=\"mr-3 mt-3\">\r\n                    <v-btn text outlined @click=\"vehicleDetails(v)\">{{v.name}}</v-btn>\r\n                </div>    \r\n            </v-row>\r\n            </div>\r\n            </v-card-text>\r\n        </v-card>\r\n       \r\n        <v-alert class=\"mt-2\" type=\"error\" dense text v-if=\"duesEndDate < today\">Not currently earning points. Pay your dues to start earning!</v-alert>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapState} from 'vuex'\r\nimport {db} from '../../firebaseconfig.js'\r\n\r\nexport default {\r\n    name: 'member',\r\n    data() {\r\n        return {\r\n            memberRef: {},\r\n            vehicles: {},\r\n            today: new Date(),\r\n            \r\n        }\r\n    },\r\n    firestore() {\r\n        let memberUserId = this.currentUser.uid\r\n        return {\r\n            memberRef: db.collection('members').doc(memberUserId),\r\n            vehicles: db.collection('vehicles').where(\"member.userId\", \"==\", memberUserId)\r\n        }\r\n    },\r\n    computed: {\r\n    ...mapState(['currentUser', 'userProfile']),\r\n    flatMember() {\r\n        var mR = this.memberRef\r\n        _.flatMap(mR)\r\n        return mR\r\n    },\r\n    duesEndDate() {\r\n        let mR = this.memberRef\r\n        let cD = this.memberRef.currentDues\r\n        //console.log(cD)\r\n        //console.log(cD.effectiveEnd)\r\n        if (mR != null && cD != null) {\r\n            let effEnd = cD.effectiveEnd\r\n            let effEndSec = effEnd.seconds\r\n            let utcDate = new Date(effEnd * 1000)\r\n            return utcDate   \r\n        } else {return 'Not current'}\r\n    }\r\n  },\r\n  methods: {\r\n      vehicleDetails(v) {\r\n        this.$router.push({\r\n        path: `/vehicle/${v.id}`\r\n        }) },\r\n        memberDetails(m) {\r\n        this.$router.push({\r\n        path: `/member/${m.userId}`\r\n        }) },\r\n  }\r\n}\r\n</script>"],"sourceRoot":"src/components"}]}