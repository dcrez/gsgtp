{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\vehicleDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\vehicleDetails.vue","mtime":1621904115786},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZmIsZGJ9IGZyb20gJy4uLy4uL2ZpcmViYXNlY29uZmlnLmpzJwppbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ3ZlaGljbGVEZXRhaWxzJywKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdmVoaWNsZUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgIGhvb2tzOiB7fSwKICAgICAgICAgICAgY3VycmVudFZlaGljbGU6IHt9CiAgICAgICAgfQogICAgfSwKICAgIGZpcmVzdG9yZSgpIHsKICAgICAgICBsZXQgdmVoID0gdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICAgbGV0IHZyZWYgPSB0aGlzLmN1cnJlbnROYW1lCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY3VycmVudFZlaGljbGU6IGRiLmNvbGxlY3Rpb24oJ3ZlaGljbGVzJykuZG9jKHZlaCksCiAgICAgICAgICAgIGhvb2tzOiBkYi5jb2xsZWN0aW9uKCdob29rcycpLndoZXJlKCJ2ZWhpY2xlSWQiLCAiPT0iLCB2ZWgpLm9yZGVyQnkoJ3B1bGwnLCAnZGVzYycpCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnb0JhY2soKSB7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkKICAgICAgICB9LAogICAgICAgIHB1bGxEZXRhaWxzKHB1bGwpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogYC9wdWxsLyR7cHVsbC5kYXRlfS8ke3B1bGwuaWR9YAogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcFN0YXRlKFsnY3VycmVudFVzZXInLCAndXNlclByb2ZpbGUnXSksCiAgICAgICAgY3VycmVudE5hbWUoKSB7CiAgICAgICAgICAgIGxldCB2ZWhpY2xlTmFtZQogICAgICAgICAgICByZXR1cm4gdmVoaWNsZU5hbWUgPSB0aGlzLmN1cnJlbnRWZWhpY2xlLm5hbWUKICAgICAgICB9LAogICAgICAgIHBhc3RDbGFzc2VzKCkgewogICAgICAgICAgIGxldCBwYyA9ICBfLmdyb3VwQnkoaG9va3MsdmVoaWNsZUNsYXNzKQogICAgICAgICAgIHJldHVybiBwYwogICAgICAgIH0sCiAgICAgICAgZGlzdGFuY2VBdmFpbGFibGUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmhvb2tzLmRpc3RhbmNlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQogICAgICAgICAgICB9IGVsc2Uge3JldHVybiBmYWxzZX0KICAgICAgICB9LAogICAgICAgIGRpc3RhbmNlcygpIHsKICBsZXQgZGlzdGFuY2UgPSB0aGlzLmhvb2tzLm1hcChob29rID0+IGhvb2suZGlzdGFuY2UpCiAgY29uc29sZS5sb2coZGlzdGFuY2UpCiAgbGV0IGhvb2tOdW1iZXJzID0gZGlzdGFuY2UubWFwKGZ1bmN0aW9uICh4KSB7cmV0dXJuIHBhcnNlSW50KHgsMTApfSkKICBjb25zb2xlLmxvZyhob29rTnVtYmVycykKICByZXR1cm4gaG9va051bWJlcnMKfSwKICAgICAgICBwdWxsTGFiZWxzKCkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gXy5tYXAodGhpcy5ob29rcywncHVsbC5kYXRlJykKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQKICAgICAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["vehicleDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vehicleDetails.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"display-1 mt-5 mb-5 font-weight-light\">\r\n            {{currentVehicle.name}} <v-btn class=\"mb-3 float-right\" text color=\"red darken-3\" @click=\"goBack\">\r\n                <v-icon class=\"mr-4\">fad fa-arrow-circle-left</v-icon> Go back\r\n            </v-btn>\r\n        </div>\r\n        \r\n        <div style=\"margin-top:-1.2em;\">Primary puller: {{currentVehicle.member.fullName}}</div>\r\n        \r\n        <div class=\"container\">\r\n      <div v-if=\"hooks = {}\" >\r\n            <v-alert type=\"warning\">Nothing to see here yet! Come to a pull and post a hook as a member of GSGTP to track your vehicle's performance over time.</v-alert>\r\n        </div>\r\n      </div>\r\n        <div v-for=\"c in currentVehicle.classes\" :key=\"c['.index']\">\r\n        \r\n        <v-toolbar class=\"mt-5 font-weight-black\" elevation=\"0\" style=\"text-transform: uppercase;\" >\r\n          <v-toolbar-title>{{c.name}}</v-toolbar-title>\r\n          \r\n          </v-toolbar>\r\n          <div v-if=\"hooks.vehicleClass = c.name\">\r\n\r\n            <v-sheet max-width=\"calc(100%-32px\" min-height=\"100px\" dark v-if=\"hooks.length > 0\">\r\n              \r\n    <v-sparkline :value=\"distances\" \r\n    type=\"trend\" \r\n    line-width=\"0.4\" \r\n    label-size=\"5\"\r\n    color= \"white\"\r\n    gradient=\"['red','violet', 'purple']\"\r\n    gradient-direction=\"top\"\r\n    gradients\r\n    ></v-sparkline>\r\n            </v-sheet> \r\n        <v-simple-table  dark>\r\n          \r\n          \r\n          <thead>\r\n            <tr>\r\n    \r\n              <th class=\"text-left\">Pull</th>\r\n              <th class=\"text-left\">Track</th>\r\n              <th class=\"text-left\">Distance</th>\r\n              <th class=\"text-left\">Points</th>\r\n              <th class=\"text-left\" v-if=\"admin == true\">Update</th>\r\n              <th class=\"text-left\" v-if=\"admin == true\">Delete</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody v-for=\"h in hooks\" :key=\"h['.key']\">\r\n            <tr v-if=\"h.vehicleClass == c.name\">\r\n              <span hidden>{{h.id}}</span>\r\n              <td>{{h.pull.date}} {{h.pull.title}}</td>\r\n              <td>{{h.track}}</td>\r\n              <td>{{h.distance}}</td>\r\n              <td>{{h.points}}</td>\r\n              \r\n            </tr>\r\n          </tbody>\r\n\r\n        </v-simple-table>\r\n          </div>\r\n        \r\n\r\n      </div>\r\n      \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {fb,db} from '../../firebaseconfig.js'\r\n    import {mapState} from 'vuex'\r\n\r\n    export default {\r\n        name: 'vehicleDetails',\r\n        data() {\r\n            return {\r\n                vehicleId: this.$route.params.id,\r\n                hooks: {},\r\n                currentVehicle: {}\r\n            }\r\n        },\r\n        firestore() {\r\n            let veh = this.$route.params.id\r\n            let vref = this.currentName\r\n            return {\r\n                currentVehicle: db.collection('vehicles').doc(veh),\r\n                hooks: db.collection('hooks').where(\"vehicleId\", \"==\", veh).orderBy('pull', 'desc')\r\n            }\r\n        },\r\n        methods: {\r\n            goBack() {\r\n                this.$router.go(-1)\r\n            },\r\n            pullDetails(pull) {\r\n                this.$router.push({\r\n                    path: `/pull/${pull.date}/${pull.id}`\r\n                })\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState(['currentUser', 'userProfile']),\r\n            currentName() {\r\n                let vehicleName\r\n                return vehicleName = this.currentVehicle.name\r\n            },\r\n            pastClasses() {\r\n               let pc =  _.groupBy(hooks,vehicleClass)\r\n               return pc\r\n            },\r\n            distanceAvailable() {\r\n                if (this.hooks.distance) {\r\n                    return true\r\n                } else {return false}\r\n            },\r\n            distances() {\r\n      let distance = this.hooks.map(hook => hook.distance)\r\n      console.log(distance)\r\n      let hookNumbers = distance.map(function (x) {return parseInt(x,10)})\r\n      console.log(hookNumbers)\r\n      return hookNumbers\r\n    },\r\n            pullLabels() {\r\n                var result = _.map(this.hooks,'pull.date')\r\n                    return result\r\n                },\r\n        }\r\n    }\r\n</script>"]}]}