{"remainingRequest":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\pullDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\src\\views\\pullDetails.vue","mtime":1579309669787},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\danie\\GitHub\\dcrez.github.io\\projects\\gsgtp-offline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2RifSBmcm9tICcuLi8uLi9maXJlYmFzZWNvbmZpZy5qcycNCmltcG9ydCB7bWFwU3RhdGV9IGZyb20gJ3Z1ZXgnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ3B1bGxEZXRhaWxzJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcHVsbDoge30sDQogICAgICBob29rczoge30sDQogICAgICBmaWx0ZXJIb29rczogJycsDQogICAgICBoZWFkZXJzOiBbew0KICAgICAgICB0ZXh0OiAnQ2xhc3MnLA0KICAgICAgICB2YWx1ZTogJ3ZlaGljbGVDbGFzcycNCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRleHQ6ICdOYW1lJywNCiAgICAgICAgdmFsdWU6ICd2ZWhpY2xlTmFtZScNCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRleHQ6ICdQdWxsZXInLA0KICAgICAgICB2YWx1ZTogJ3B1bGxlck5hbWUnDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0ZXh0OiAnRGlzdGFuY2UnLA0KICAgICAgICB2YWx1ZTogJ2Rpc3RhbmNlJw0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGV4dDogJ1BsYWNlJywNCiAgICAgICAgdmFsdWU6ICdwbGFjZScNCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRleHQ6ICdEUT8nLA0KICAgICAgICB2YWx1ZTogJ2RxJw0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGV4dDogJ1BvaW50cycsDQogICAgICAgIHZhbHVlOiAncG9pbnRzJw0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgIHRleHQ6ICdBY3Rpb25zJywgdmFsdWU6ICdhY3Rpb24nLCBzb3J0YWJsZTpmYWxzZQ0KICAgICAgfV0sDQogICAgICBlZGl0ZWRJbmRleDogLTEsDQogICAgICBlZGl0ZWRJdGVtOiB7DQogICAgICAgIHZlaGljbGVDbGFzczogJycsDQogICAgICAgIHZlaGljbGVOYW1lOiAnJywNCiAgICAgICAgcHVsbGVyTmFtZTogJycsDQogICAgICAgIGRpc3RhbmNlOiAnJywNCiAgICAgICAgcGxhY2U6ICcnLA0KICAgICAgICBkcTogJycNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGZpcmVzdG9yZSgpIHsNCiAgICBsZXQgY3VycmVudFB1bGwgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQNCiAgICAvL2xldCBwdWxsRGF0ZSA9IHRoaXMuY3VycmVudFB1bGwuZGF0ZQ0KICAgIHJldHVybiB7DQogICAgICBwdWxsOiBkYi5jb2xsZWN0aW9uKCdwdWxscycpLmRvYyhjdXJyZW50UHVsbCksDQogICAgICBob29rczogZGIuY29sbGVjdGlvbignaG9va3MnKS53aGVyZSgicHVsbElkIiwgIj09IiwgY3VycmVudFB1bGwpLm9yZGVyQnkoInZlaGljbGVDbGFzcyIsICJhc2MiKQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBTdGF0ZShbJ2N1cnJlbnRVc2VyJywgJ3VzZXJQcm9maWxlJ10pLA0KICAgIGJ5VmVoaWNsZUNsYXNzKCl7DQogICAgICByZXR1cm4gdGhpcy5ob29rcy5yZWR1Y2UoKGFjYywgaG9vaykgPT4gew0KICAgICAgICAoYWNjW2hvb2sudmVoaWNsZUNsYXNzXSA9IGFjY1tob29rLnZlaGljbGVDbGFzc10gfHwgW10pLnB1c2goaG9vay52ZWhpY2xlTmFtZSkNCiAgICAgICAgcmV0dXJuIGFjYw0KICAgICAgfSwge30pDQogICAgfQ0KICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIA0KICAgICAgZWRpdEl0ZW0gKGl0ZW0pIHsNCiAgICAgICAgdGhpcy5lZGl0ZWRJbmRleCA9IHRoaXMuaG9va3MuaW5kZXhPZihpdGVtKQ0KICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCBpdGVtKQ0KICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWUNCiAgICAgIH0sDQogICAgICBzYXZlSXRlbShpdGVtKSB7DQogICAgICAgIGxldCBob29rVXBkYXRlID0gaXRlbS5pZA0KICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ2hvb2tzJykuZG9jKGhvb2tVcGRhdGUpLnVwZGF0ZSh7DQogICAgICAgICAgICBkaXN0YW5jZTogdGhpcy5lZGl0ZWRJdGVtLmRpc3RhbmNlLA0KICAgICAgICAgICAgcGxhY2U6IHRoaXMuZWRpdGVkSXRlbS5wbGFjZSwNCiAgICAgICAgICAgIGRxOiB0aGlzLmVkaXRlZEl0ZW0uZHEsDQogICAgICAgICAgICB1cGRhdGVkQnk6IHRoaXMuY3VycmVudFVzZXIudWlkLA0KICAgICAgICAgICAgdXBkYXRlZDogbmV3IERhdGUoKQ0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygiUHVsbCB1cGRhdGVkISIpDQogICAgICAgICAgfSkNCiAgICAgICAgdGhpcy5jbG9zZSgpDQogICAgICB9LA0KICAgICAgY2xvc2UoKSB7DQogICAgICAgIHRoaXMuZGlhbG9nID0gZmFsc2UNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLmVkaXRlZEl0ZW0gPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmRlZmF1bHRJdGVtKQ0KICAgICAgICB0aGlzLmVkaXRlZEluZGV4ID0gLTENCiAgICAgIH0sIDMwMCkNCiAgICAgIH0NCiAgfSwNCiAgZGVsZXRlSXRlbSAoaXRlbSkgew0KICAgIGRiLmNvbGxlY3Rpb24oJ2hvb2tzJykuZG9jKGl0ZW0uaWQpLmRlbGV0ZSgpOw0KICB9DQogIH0NCg0K"},{"version":3,"sources":["pullDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pullDetails.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <v-card class=\"mx-auto\">\r\n        <v-card-title>{{pull.title}}</v-card-title>\r\n        <v-card-subtitle>{{pull.date | moment(\"dddd, MMMM Do YYYY\")}} {{pull.time}}</v-card-subtitle>\r\n        <v-card-text>{{pull.address}}, {{pull.city}}<br>\r\n            {{pull.description}}\r\n        </v-card-text>\r\n        \r\n    </v-card>\r\n    <v-dialog v-model=\"dialog\" max-width=\"500px\">\r\n           \r\n            <v-card>\r\n              <v-card-title>\r\n                <span class=\"headline\">Edit Hook</span>\r\n              </v-card-title>\r\n  \r\n              <v-card-text>\r\n                <v-container>\r\n                  <v-row>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field v-model=\"editedItem.vehicleClass\" label=\"Class\" disabled color=\"secondary\"></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field v-model=\"editedItem.vehicleName\" label=\"Vehicle\" disabled color=\"secondary\"></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field v-model=\"editedItem.pullerName\" label=\"Puller Name\" color=\"secondary\"></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field v-model=\"editedItem.distance\" label=\"Distance\" color=\"secondary\"></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field v-model=\"editedItem.place\" label=\"Place\" color=\"secondary\"></v-text-field>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                      <v-text-field v-model=\"editedItem.dq\" label=\"Disqualified?\" color=\"secondary\"></v-text-field>\r\n                    </v-col>\r\n                  </v-row>\r\n                \r\n                </v-container>\r\n              </v-card-text>\r\n  \r\n              <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"secondary\" text @click=\"close\">Cancel</v-btn>\r\n                <v-btn color=\"secondary\" text @click=\"saveItem(item)\">Save</v-btn>\r\n              </v-card-actions>\r\n            </v-card>\r\n          </v-dialog>\r\n\r\n          <v-simple-table class=\"mt-5\">\r\n            <template v-slot:default>\r\n              <thead>\r\n                <tr>\r\n                  <th>Vehicle</th>\r\n                  <th>Distance</th>\r\n                  <th>Points</th>\r\n                  <th>Something</th>\r\n                </tr>\r\n              </thead>\r\n              <t-body>\r\n                <template v-for=\"hook in hooks, vehicleClass in byVehicleClass\">\r\n                  <tr v-for=\"vclass in byVehicleClass\" :key=\"vclass['.key']\">\r\n                  <td>{{vclass.vehicleClass}}</td>\r\n                  </tr>\r\n                  <tr v-for=\"hook in hooks\" :key=\"hook['.key']\">\r\n                  <td>{{hook.vehicleName}}</td>\r\n                  <td>{{hook.distance}}</td>\r\n                </tr>\r\n                </template>\r\n              </t-body>\r\n            </template>\r\n          </v-simple-table>\r\n    <!--\r\n    <v-card class=\"mt-5\">\r\n      <v-card-title>Hooks\r\n      <v-spacer></v-spacer>\r\n      <v-text-field v-model=\"filterHooks\" label=\"Filter\" single-line hide-details></v-text-field>\r\n      </v-card-title>\r\n      <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"hooks\"\r\n      sort-by=\"vehicleClass\"\r\n      class=\"elevation-1\"\r\n      :search=\"filterHooks\"\r\n      \r\n    >\r\n      <template v-slot:item.action=\"{ item }\">\r\n        <v-icon\r\n          small\r\n          class=\"mr-2\"\r\n          @click=\"editItem(item)\"\r\n        >\r\n          fad fa-pencil\r\n        </v-icon>\r\n        <v-icon\r\n          small\r\n          @click=\"deleteItem(item)\"\r\n        >\r\n          fad fa-trash-alt\r\n        </v-icon>\r\n      </template>\r\n      <template v-slot:no-data>\r\n        <v-btn color=\"primary\" @click=\"initialize\">Reset</v-btn>\r\n      </template>\r\n    </v-data-table>\r\n    </v-card>-->\r\n    </div>\r\n        \r\n    \r\n \r\n</template>\r\n\r\n<script>\r\nimport {db} from '../../firebaseconfig.js'\r\nimport {mapState} from 'vuex'\r\n\r\nexport default {\r\n  name: 'pullDetails',\r\n  data() {\r\n    return {\r\n      pull: {},\r\n      hooks: {},\r\n      filterHooks: '',\r\n      headers: [{\r\n        text: 'Class',\r\n        value: 'vehicleClass'\r\n      },\r\n      {\r\n        text: 'Name',\r\n        value: 'vehicleName'\r\n      },\r\n      {\r\n        text: 'Puller',\r\n        value: 'pullerName'\r\n      },\r\n      {\r\n        text: 'Distance',\r\n        value: 'distance'\r\n      },\r\n      {\r\n        text: 'Place',\r\n        value: 'place'\r\n      },\r\n      {\r\n        text: 'DQ?',\r\n        value: 'dq'\r\n      },\r\n      {\r\n        text: 'Points',\r\n        value: 'points'\r\n      },\r\n      {\r\n      text: 'Actions', value: 'action', sortable:false\r\n      }],\r\n      editedIndex: -1,\r\n      editedItem: {\r\n        vehicleClass: '',\r\n        vehicleName: '',\r\n        pullerName: '',\r\n        distance: '',\r\n        place: '',\r\n        dq: ''\r\n      }\r\n    }\r\n  },\r\n  firestore() {\r\n    let currentPull = this.$route.params.id\r\n    //let pullDate = this.currentPull.date\r\n    return {\r\n      pull: db.collection('pulls').doc(currentPull),\r\n      hooks: db.collection('hooks').where(\"pullId\", \"==\", currentPull).orderBy(\"vehicleClass\", \"asc\")\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['currentUser', 'userProfile']),\r\n    byVehicleClass(){\r\n      return this.hooks.reduce((acc, hook) => {\r\n        (acc[hook.vehicleClass] = acc[hook.vehicleClass] || []).push(hook.vehicleName)\r\n        return acc\r\n      }, {})\r\n    }\r\n  },\r\n    methods: {\r\n      \r\n      editItem (item) {\r\n        this.editedIndex = this.hooks.indexOf(item)\r\n        this.editedItem = Object.assign({}, item)\r\n        this.dialog = true\r\n      },\r\n      saveItem(item) {\r\n        let hookUpdate = item.id\r\n          db.collection('hooks').doc(hookUpdate).update({\r\n            distance: this.editedItem.distance,\r\n            place: this.editedItem.place,\r\n            dq: this.editedItem.dq,\r\n            updatedBy: this.currentUser.uid,\r\n            updated: new Date()\r\n          }).then(function() {\r\n            console.log(\"Pull updated!\")\r\n          })\r\n        this.close()\r\n      },\r\n      close() {\r\n        this.dialog = false\r\n      setTimeout(() => {\r\n        this.editedItem = Object.assign({}, this.defaultItem)\r\n        this.editedIndex = -1\r\n      }, 300)\r\n      }\r\n  },\r\n  deleteItem (item) {\r\n    db.collection('hooks').doc(item.id).delete();\r\n  }\r\n  }\r\n\r\n</script>"]}]}